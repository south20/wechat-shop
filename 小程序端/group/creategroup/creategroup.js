(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["group/creategroup/creategroup"],{"590a":function(e,t,a){},"63d9":function(e,t,a){"use strict";var n=a("590a"),o=a.n(n);o.a},"67e8":function(e,t,a){"use strict";(function(e){function a(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){return{menu:["地下城与勇士","英雄连门","假面骑士 zi-o","假面骑士 ooo","梦比优斯奥特曼"],avatar:"",nick_name:"",sex:["男","女","保密"],sexIndex:0,name:"",phone:"",showPhome:!1,area:"",latitude:"",longitude:"",address:"",addr:"",vercode:"",banner_pic_url:"",remark:"",is_self:1,phoneFlag:!1,time:60,uid:0,edit:!1,leader_name:"",is_seif:"",flag:"",province_code:"",area_code:"",city_code:""}},components:{},props:{},onLoad:function(t){this.options=t,this.setData({avatar:e.getStorageSync("user").avatar,nick_name:e.getStorageSync("user").nickname,leader_name:e.getStorageSync("leader_name")}),t.id&&(this.getTuanInfo(),this.setData({edit:!0})),this.getUserInfo(),this.setTheme(),wx.setNavigationBarTitle({title:"申请".concat(e.getStorageSync("leader_name"))})},methods:{getUserInfo:function(){var e=this;this.http({url:"shopUserInfo"}).then((function(t){e.setData({avatar:t.data.avatar,nick_name:t.data.nickname}),e.getTuanConfig()}))},show:function(){this.setData({is_seif:!this.is_seif})},getTuanInfo:function(){var e=this;this.http({url:"tuanLeader"}).then((function(t){var n;console.log(t),e.setData((n={name:t.data.realname,phone:t.data.phone,address:"".concat(t.data.provice_name,",").concat(t.data.city_name,",").concat(t.data.area_names),is_self:1==t.data.is_self,flag:1==t.data.is_self,province_code:t.data.province_code,area_code:t.data.area_code},a(n,"province_code",t.data.province_code),a(n,"city_code",t.data.city_code),a(n,"latitude",t.data.latitude),a(n,"longitude",t.data.longitude),a(n,"area",t.data.area_name),a(n,"remark",t.data.remarks),a(n,"addr",t.data.addr),a(n,"uid",t.data.uid),n))})).catch((function(e){}))},getTuanConfig:function(){var t=this;wx.request({url:"".concat(e.getStorageSync("url"),"shopTuanConfig"),data:{key:e.getStorageSync("shopkey")},method:"get",header:{"Access-Token":e.getStorageSync("jwt")},success:function(e){console.log(e),wx.setStorageSync("leader_name",e.data.data.leader_name),t.setData({banner_pic_url:e.data.data.banner_pic_url})}})},panduan:function(e){var t=e.detail.value;for(var a in t.is_self=this.is_self,console.log(t),t)if(console.log(a),""===t[a]&&"remarks"!=a)return wx.showToast({title:"有参数未填",icon:"none"}),!1;console.log(this.options),this.options.id?this.putData(t):this.postData(t)},postData:function(t){var a=this;console.log("didid"),e.getStorageSync("SubscribeTemplateId")["check"]?wx.requestSubscribeMessage({tmplIds:[e.getStorageSync("SubscribeTemplateId")["check"]],success:function(e){a.postSubscribeMessage(e),a.postajax(t)},fail:function(e){console.log(e),a.postajax(t)}}):this.postajax(t)},postajax:function(e){this.http({url:"shopTuanUser",data:e,method:"post"}).then((function(e){wx.showToast({title:"申请提交完毕,请等待商家审核",icon:"none"}),setTimeout((function(){wx.navigateTo({url:"/pages/index/index/index"})}),1e3)})).catch((function(e){wx.showToast({title:e.message,icon:"none"})}))},putData:function(e){this.http({url:"updateTuanLeader",data:e,method:"put"}).then((function(e){wx.showToast({title:"资料修改完毕",icon:"none"}),wx.navigateBack()})).catch((function(e){wx.showToast({title:e.message,icon:"none"})}))},chooseSex:function(e){console.log(e),this.setData({sexIndex:e.detail.value})},chooseAddress:function(e){console.log(e.detail),this.setData({province_code:e.detail.code[0],city_code:e.detail.code[1],area_code:e.detail.code[2],address:e.detail.value.join(",")})},chooseArea:function(e){var t=this;wx.chooseLocation({success:function(e){console.log(e),t.setData({area:e.name,latitude:e.latitude,longitude:e.longitude})}})},writePhone:function(e){this.setData({phone:e.detail.value})},getVercode:function(){var t=this;return console.log(this.phone),""==this.phone?(wx.showToast({title:"请输入手机号",icon:"none"}),!1):/^[1][0-9][0-9]{9}$/.test(this.phone)?void wx.request({url:"".concat(e.getStorageSync("url"),"sms"),data:{phone:this.phone},header:{"Access-Token":e.getStorageSync("jwt")},success:function(e){console.log(e),200==e.data.status&&(t.setData({phoneFlag:!0}),n=setInterval((function(){t.setData({time:t.time-1}),0==t.time&&(clearInterval(n),t.setData({time:60,phoneFlag:!1}))}),1e3))}}):(wx.showToast({title:"请输入正确手机号",icon:"none"}),!1)}}};t.default=o}).call(this,a("543d")["default"])},c784:function(e,t,a){"use strict";(function(e){a("cd90");n(a("66fd"));var t=n(a("ed22"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,a("543d")["createPage"])},e9ff:function(e,t,a){"use strict";var n,o=function(){var e=this,t=e.$createElement;e._self._c},i=[];a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return n}))},ed22:function(e,t,a){"use strict";a.r(t);var n=a("e9ff"),o=a("fc09");for(var i in o)"default"!==i&&function(e){a.d(t,e,(function(){return o[e]}))}(i);a("63d9");var s,c=a("f0c5"),r=Object(c["a"])(o["default"],n["b"],n["c"],!1,null,"039ea5f1",null,!1,n["a"],s);t["default"]=r.exports},fc09:function(e,t,a){"use strict";a.r(t);var n=a("67e8"),o=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=o.a}},[["c784","common/runtime","common/vendor"]]]);