(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/utill/addShopCartLayer/addShopCartLayer"],{"13f2":function(t,e,r){"use strict";r.r(e);var a=r("971f"),o=r("8c9f");for(var i in o)"default"!==i&&function(t){r.d(e,t,(function(){return o[t]}))}(i);r("28d9");var n,p=r("f0c5"),d=Object(p["a"])(o["default"],a["b"],a["c"],!1,null,"45eef94f",null,!1,a["a"],n);e["default"]=d.exports},"1ac4":function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={data:function(){return{layerFlag:!1,background:"",number:1,ajaxFlag:!0,propertyindex:0,property1List:"",property1_name:"",property2_name:"",property2List:"",property1index:"",goodPropertyDetail:"",property2index:"",cartindex:"",supplier_id:0,httpFlag:!0}},components:{},props:{goodsData:{type:[Object,String],default:function(){return{}}},showLayer:{type:Boolean,default:!1}},watch:{goodsData:{handler:function(t){t&&this.spliceProperty1()},immediate:!0,deep:!0}},methods:{showcartLayer:function(){console.log("todosomthing"),this.propertyindex=0,this.$emit("showcartLayer")},spliceProperty1:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentTarget:{dataset:{index:0}}},a=this.goodsData.property1.split(":")[1].split(","),o=this.goodsData.property1.split(":")[0],i=this.goodsData.property2.split(":")[0];this.http({url:"shopGoodsStockProperty/".concat(this.goodsData.id),data:{property1_name:a[r.currentTarget.dataset.index],key:t.getStorageSync("shopkey")}}).then((function(n){e.setData({property1List:a,property1_name:o,property2_name:i,property2List:n.data.map((function(t){return t.property2_name})),property1index:r.currentTarget.dataset.index,background:t.getStorageSync("background")}),e.getPropertyDetail()}))},getPropertyDetail:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentTarget:{dataset:{index:0}}};this.http({url:"shopGoodsStock/".concat(this.goodsData.id),data:{property1_name:this.property1List[this.property1index],property2_name:this.property2List[r.currentTarget.dataset.index],key:t.getStorageSync("shopkey")}}).then((function(t){e.setData({goodPropertyDetail:t.data,property2index:r.currentTarget.dataset.index,layerFlag:!0})}))},changeNumber:function(t){var e=this.number;if("add"===t.currentTarget.dataset.type){if(this.goodPropertyDetail.number==e)return!1;e+=1}else{if(1==this.number)return!1;e-=1}this.setData({number:e})},propertyToCart:function(t){var e={type:"property",id:this.goodPropertyDetail.goods_id,stock_id:this.goodPropertyDetail.id,supplier_id:this.supplier_id};this.addShopCart(e,"reduce"==t.currentTarget.dataset.type?"reduce":"add")},addShopCart:function(t,e){var r=this,a={id:t.id,stock_id:t.stock_id,supplier_id:t.supplier_id};a={goods_id:a.id,stock_id:a.stock_id||a.stock[0].id,number:"reduce"==e?-1:1,supplier_id:a.supplier_id},"property"==t.type&&(a.number=this.number),!0===this.httpFlag&&(this.setData({ajaxFlag:!1}),this.http({url:"shopCart",method:"post",data:a}).then((function(t){wx.showToast({title:"添加成功",icon:"none"}),r.setData({cartindex:r.cartindex+1,ajaxFlag:!0,layerFlag:!r.layerFlag,propertyindex:0}),r.$emit("cartUpdata")})).catch((function(t){r.setData({ajaxFlag:!0})})))}}};e.default=r}).call(this,r("543d")["default"])},"28d9":function(t,e,r){"use strict";var a=r("487d"),o=r.n(a);o.a},"487d":function(t,e,r){},"8c9f":function(t,e,r){"use strict";r.r(e);var a=r("1ac4"),o=r.n(a);for(var i in a)"default"!==i&&function(t){r.d(e,t,(function(){return a[t]}))}(i);e["default"]=o.a},"971f":function(t,e,r){"use strict";var a,o=function(){var t=this,e=t.$createElement;t._self._c},i=[];r.d(e,"b",(function(){return o})),r.d(e,"c",(function(){return i})),r.d(e,"a",(function(){return a}))}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/utill/addShopCartLayer/addShopCartLayer-create-component',
    {
        'pages/utill/addShopCartLayer/addShopCartLayer-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("13f2"))
        })
    },
    [['pages/utill/addShopCartLayer/addShopCartLayer-create-component']]
]);
