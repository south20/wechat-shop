(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/createOrder/tab/tab/tab"],{"078a":function(e,t,a){"use strict";a.r(t);var n=a("c3dc"),s=a.n(n);for(var d in n)"default"!==d&&function(e){a.d(t,e,(function(){return n[e]}))}(d);t["default"]=s.a},"1e51":function(e,t,a){},"7f70":function(e,t,a){"use strict";a.r(t);var n=a("f199"),s=a("078a");for(var d in s)"default"!==d&&function(e){a.d(t,e,(function(){return s[e]}))}(d);a("b201");var i,r=a("f0c5"),o=Object(r["a"])(s["default"],n["b"],n["c"],!1,null,"d7bcb97a",null,!1,n["a"],i);t["default"]=o.exports},b201:function(e,t,a){"use strict";var n=a("1e51"),s=a.n(n);s.a},c3dc:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;getApp();var n=function(){a.e("pages/createOrder/tab/address/address").then(function(){return resolve(a("6a08"))}.bind(null,a)).catch(a.oe)},s=function(){a.e("pages/createOrder/tab/groupAddress/groupAddress").then(function(){return resolve(a("85a6"))}.bind(null,a)).catch(a.oe)},d={data:function(){return{list:[],bg:"",chooseIndex:0,flag:!1,name:"",phone:"",address:{},addressFlag:!1}},components:{myAddress:n,GroupAddress:s},props:{show:{type:Boolean,default:!1},user_phone:{type:String},user_name:{type:String},session:{type:String}},watch:{show:{handler:function(t){t&&(this.setData({list:[]}),e.getStorageSync("area").id&&this.setData({flag:!0}),this.setTheme(),this.getAddressList())},immediate:!0}},beforeMount:function(){this.setData({bg:e.getStorageSync("background")})},methods:{changeList:function(t){var a;console.log(this.list[t.currentTarget.dataset.index],t.currentTarget.dataset.index),e.getStorageSync("area").id||"快递送货"==this.list[t.currentTarget.dataset.index].name||wx.showModal({title:"温馨提醒",content:"您未选择".concat(e.getStorageSync("leader_name"),",无法使用团购功能,是否选择").concat(e.getStorageSync("leader_name")),success:function(e){e.confirm&&wx.navigateTo({url:"/group/changegroup/changegroup/changegroup"})}}),this.setData({chooseIndex:t.currentTarget.dataset.index}),a="到点自提"==this.list[t.currentTarget.dataset.index].name?[{name:"姓名",data:e.getStorageSync("area").realname},{name:"收货地址",data:e.getStorageSync("area").area_name}]:(this.list[t.currentTarget.dataset.index].name,[{name:"姓名",data:this.address.name},{name:"电话",data:this.address.phone},{name:"收货地址",data:this.address.loction_name}]),this.$emit("changeAddress",{detail:{address:a,user_contact_id:this.list[t.currentTarget.dataset.index].id,useraddressid:this.address.id}}),this.$emit("goodstype",{detail:{type:this.list[t.currentTarget.dataset.index].id,useraddressid:this.address.id}})},getExpress:function(){var t=this;this.http({url:"shopTuanConfig",data:{key:e.getStorageSync("shopkey")}}).then((function(a){var n=t.list;for(var s in console.log(n),1==a.data.is_site&&1==a.data.is_open&&n.push({name:"到点自提",id:1,flag:!0}),1==a.data.is_tuan_express&&1==a.data.is_open&&n.push({name:"".concat(e.getStorageSync("leader_name"),"配送"),id:2,flag:!0}),1!=a.data.is_express&&0!=a.data.is_open||n.push({name:"快递送货",id:t.address.id,flag:!0}),t.setData({list:n,addressFlag:!0}),t.$emit("goodstype",{detail:{type:t.list[0].id,useraddressid:t.address.id}}),e.getStorageSync("area").id||"快递送货"==t.list[0].name||wx.showModal({title:"温馨提醒",content:"您未选择".concat(e.getStorageSync("leader_name"),",无法使用团购功能,是否选择").concat(e.getStorageSync("leader_name")),success:function(e){e.confirm&&wx.navigateTo({url:"/group/changegroup/changegroup/changegroup"})}}),t.list)if(t.list[s].flag){t.setData({chooseIndex:s});break}var d={1:1,2:2};t.$emit("changeAddress",{detail:{address:t.initaddressInfo(n[0].name),user_contact_id:d[t.list[0].id]||t.address.id,useraddressid:t.address.id}}),t.getData()}))},getData:function(t){var a=this;"快递送货"!=this.list[this.chooseIndex].name&&this.http({url:"tuanExpress/".concat(e.getStorageSync("area").uid||0)}).then((function(e){console.log(e.data),a.$emit("tuanexpress",{detail:{tuan_express_fee:e.data.tuan_express_fee}})}))},getaddress:function(e){if(console.log(e),0!=this.list.length&&"快递送货"==this.list[this.chooseIndex].name){var t;e.detail.id;t=e.detail.hasOwnProperty("province")?[{name:"姓名",data:e.detail.name||this.user_name},{name:"电话",data:e.detail.phone||this.user_phone},{name:"收货地址",data:e.detail.province+e.detail.city+e.detail.area+e.detail.address}]:[{name:"姓名",data:e.detail.name||this.user_name},{name:"电话",data:e.detail.phone||this.user_phone},{name:"收货地址",data:e.detail.address}],this.$emit("changeAddress",{detail:{address:t,user_contact_id:e.detail.id,useraddressid:e.detail.id}})}},changeName:function(e){this.setData({name:e.detail.value}),this.$emit("changename",{detail:{data:e.detail.value}})},changePhone:function(e){this.$emit("changephone",{detail:{data:e.detail.value}})},getPhone:function(e){var t=this;this.http({url:"shopUserPhone",data:{iv:e.detail.iv,encryptedData:e.detail.encryptedData,session_key:this.session}}).then((function(e){t.$emit("changephone",{detail:{data:JSON.parse(e.data).phoneNumber}})}))},getAddressList:function(){var e=this;this.http({url:"shopContact"}).then((function(t){e.setData({address:t.data[0]}),e.getExpress()})).catch((function(t){e.getExpress()}))},initaddressInfo:function(t){var a;return a="到点自提"==t?[{name:"姓名",data:e.getStorageSync("area").realname},{name:"收货地址",data:e.getStorageSync("area").area_name}]:[{name:"姓名",data:this.address.name},{name:"电话",data:this.address.phone},{name:"收货地址",data:this.address.loction_name}],a}}};t.default=d}).call(this,a("543d")["default"])},f199:function(e,t,a){"use strict";var n,s=function(){var e=this,t=e.$createElement;e._self._c},d=[];a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return d})),a.d(t,"a",(function(){return n}))}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/createOrder/tab/tab/tab-create-component',
    {
        'pages/createOrder/tab/tab/tab-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("7f70"))
        })
    },
    [['pages/createOrder/tab/tab/tab-create-component']]
]);
