(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/my/my"],{4099:function(e,t,n){},4643:function(e,t,n){"use strict";(function(e){n("cd90");r(n("66fd"));var t=r(n("ba2e"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"66c8":function(e,t,n){"use strict";n.r(t);var r=n("b1f2"),o=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=o.a},b1f2:function(e,t,n){"use strict";(function(e){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=s(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,a=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function s(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;getApp();var u=function(){n.e("pages/utill/layer/layer").then(function(){return resolve(n("9169"))}.bind(null,n)).catch(n.oe)},l=function(){n.e("pages/footer/footer").then(function(){return resolve(n("2175"))}.bind(null,n)).catch(n.oe)},d={data:function(){return{title:"个人中心",headlog:"",nickName:"",integral:100,show:!1,menu:[],bannerList:[],orderMenus:[{name:"待付款",src:"/static/images/my/orderMenus/pay.png",url:"/pages/order/order/order",id:"0"},{name:"待发货",src:"/static/images/my/orderMenus/delivery.png",url:"/pages/order/order/order",id:"1"},{name:"待收货",src:"/static/images/my/orderMenus/get.png",url:"/pages/order/order/order",id:"3"},{name:"待评价",src:"/static/images/my/orderMenus/ok.png",url:"/pages/order/order/order",id:"6"},{name:"售后订单",src:"/static/images/my/orderMenus/deliveried.png",url:"/pages/returnOrder/returnOrder/returnOrder",id:"0"}],background:"",nabigationFontColor:"",page:!1,phone:"",copyright:"",is_leader:!1,sce:"",qrcode:"",qrCodeFlag:!1,balance:0,score:0,vip_name:"",discount_ratio:9,recharge_balance:0,layerFlag:!1,Vip_integral:!1,Vip_payment:!1,level:0,leader_name:"",a:"0",b:"0",c:"0",version:"1.4.83",avatar:"",group_buying:!1,leaderInfo:{},is_show_my_leader:0,is_show_pick_up_code:0,is_show_online_service:0,voucher:0,session:""}},components:{layer:u,diyfooter:l},props:{},onLoad:function(t){this.options=t,this.setData({sce:decodeURIComponent(t.scene),background:e.getStorageSync("background"),avatar:e.getStorageSync("avatar"),leader_name:e.getStorageSync("leader_name")})},onPullDownRefresh:function(){this.getUserInfo()},onShow:function(){this.getUserInfo(),wx.setNavigationBarTitle({title:this.title}),this.shopAppInfo(),this.setConfig(),this.getCopyright(),this.shopUserOrder(),this.getDiyMenu(),this.getDiyBanner(),this.getVoucher(),this.shopPersonalCenterOther(),this.getSession(),this.setData({nabigationFontColor:e.getStorageSync("nabigationFontColor"),Vip_integral:2==e.getStorageSync("Config").user_vip,Vip_payment:1==e.getStorageSync("Config").user_vip,leaderInfo:e.getStorageSync("area")})},methods:{getDiyMenu:function(){var e=this;this.http({url:"shopPersonalCenter",data:{type:1}}).then((function(t){e.setData({menu:t.data})}))},getDiyBanner:function(){var e=this;this.http({url:"shopPersonalCenter",data:{type:2}}).then((function(t){e.setData({bannerList:t.data})}))},shopPersonalCenterOther:function(){var t=this;this.http({url:"shopPersonalCenterOther",data:{key:e.getStorageSync("shopkey")}}).then((function(e){t.is_show_my_leader=e.data.is_show_my_leader,t.is_show_pick_up_code=e.data.is_show_pick_up_code,t.is_show_online_service=e.data.is_show_online_service}))},getVoucher:function(){var e=this;this.http({url:"ShopVoucher",noLogin:!0}).then((function(t){var n,r=0,o=i(t.data);try{for(o.s();!(n=o.n()).done;){var a=n.value;r+=Number(a.price)}}catch(s){o.e(s)}finally{o.f()}e.voucher=r}))},toaddress:function(){console.log("tttttttttt"),e.openLocation({latitude:Number(this.leaderInfo.latitude),longitude:Number(this.leaderInfo.longitude),success:function(e){console.log(e)},fail:function(e){console.log(e)}})},go:function(e){wx.navigateTo({url:e.currentTarget.dataset.url})},setConfig:function(){this.setData(o({},e.getStorageSync("Config")))},getjwt:function(e){this.getUserInfo()},getUserInfo:function(){var e=this;console.log("will wo"),this.http({url:"shopUserInfo",noLogin:!0}).then((function(t){e.setData({headlog:t.data.avatar,nickName:t.data.nickname,is_leader:t.data.is_leader,balance:t.data.balance,score:t.data.score,vip_name:1==t.data.is_vip&&t.data.vip_name,discount_ratio:10*t.data.discount_ratio,recharge_balance:t.data.recharge_balance,level:t.data.level,phone:t.data.phone}),wx.setStorageSync("avatar",t.data.avatar),wx.setStorageSync("union_id",t.data.union_id),wx.setStorageSync("user",t.data),wx.stopPullDownRefresh()}))},footerFlag:function(e){console.log(e),this.setData({page:!0})},goOrder:function(e){var t="".concat(e.currentTarget.dataset.url,"?id=").concat(e.currentTarget.dataset.id);wx.navigateTo({url:t})},showService:function(){var e=this;wx.showActionSheet({itemList:["拨打电话","在线客服"],success:function(t){console.log(t.tapIndex),0==t.tapIndex?wx.makePhoneCall({phoneNumber:e.phone}):wx.navigateTo({url:"/pages/webview/webview"})}})},shopAppInfo:function(){var t=this;wx.request({url:"".concat(e.getStorageSync("url"),"ShopAppInfo"),data:{key:e.getStorageSync("shopkey")},success:function(e){console.log(e.data),200==e.data.status&&t.setData({phone:e.data.data.phone})}})},setbackground:function(e){this.setData({background:e.detail.color})},ToTuanzhang:function(){if(1==e.getStorageSync("user").state)return wx.showToast({title:"你已被冻结".concat(e.getStorageSync("leader_name"),"功能,请联系商家进行处理"),icon:"none"}),!1;wx.redirectTo({url:"/group/groupcenter/groupcenter/groupcenter"})},creategroup:function(){wx.navigateTo({url:"/group/groupbrochure/groupbrochure"})},getQrcode:function(){var t=this;wx.showLoading({title:""}),this.http({url:"shopOrderQrcode",data:{uid:e.getStorageSync("user").id}}).then((function(e){console.log(e),wx.hideLoading(),t.setData({qrcode:e.data,qrCodeFlag:!t.qrCodeFlag})}))},showQrCode:function(){""==this.qrcode?this.getQrcode():this.setData({qrCodeFlag:!this.qrCodeFlag})},getCopyright:function(){var e=this;this.getColor().then((function(t){e.setData({copyright:t.copyright})}))},changeLayerFlag:function(){console.log("aasasas"),this.setData({layerFlag:!this.layerFlag})},callPhone:function(){wx.makePhoneCall({phoneNumber:this.phone})},tomendian:function(){wx.navigateTo({url:"/pages/home/balancePay/balancePay"})},shopUserOrder:function(){var e=this;this.http({url:"shopUserOrder",noLogin:!0}).then((function(t){console.error("报错了哟",t),e.setData({a:t.data.a,b:t.data.b,c:t.data.c})}))},decryptPhoneNumber:function(e){var t=this;this.http({url:"shopUserPhone",data:{iv:e.detail.iv,encryptedData:e.detail.encryptedData,session_key:this.session}}).then((function(e){return JSON.parse(e.data).phoneNumber})).then((function(e){return t.http({url:"shopUser",method:"post",data:{phone:e}})})).then((function(e){t.getUserInfo()}))},getSession:function(){var t=this;wx.login({success:function(n){t.http({url:"shopTuanMiniprogramr",data:{code:n.code,key:e.getStorageSync("shopkey"),type:"miniprogram"}}).then((function(e){t.session=e.data.session_key}))}})}}};t.default=d}).call(this,n("543d")["default"])},ba2e:function(e,t,n){"use strict";n.r(t);var r=n("f385"),o=n("66c8");for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);n("e722");var i,s=n("f0c5"),c=Object(s["a"])(o["default"],r["b"],r["c"],!1,null,"0a743d43",null,!1,r["a"],i);t["default"]=c.exports},e722:function(e,t,n){"use strict";var r=n("4099"),o=n.n(r);o.a},f385:function(e,t,n){"use strict";var r,o=function(){var e=this,t=e.$createElement;e._self._c},a=[];n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}))}},[["4643","common/runtime","common/vendor"]]]);