(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],{"52a1":function(t,e,n){"use strict";var a=n("dde6"),o=n.n(a);o.a},5647:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n("8535"),o={onShow:function(){t.setStorageSync("url","".concat(a.requrl)),t.setStorageSync("shopkey","ccvWPn"),t.setStorageSync("Config",{}),this.merchantPlugin(),this.is_update(),this.getSubscribeTemplateId()},globalData:{userInfo:null,status:!1,showFlag:!0,partner_id:0,openAdvertisement:!0,login:function(){var e=this;return new Promise((function(n,a){t.login({success:function(o){e.http({url:"shopLogin",data:{code:o.code,key:t.getStorageSync("shopkey"),type:"miniprogram"}}).then((function(n){t.setStorageSync("session_key",n.data.session_key),t.setStorageSync("openid",n.data.openid),e.getUserInFo(),a()})).catch((function(a){203===a.status&&(t.setStorageSync("jwt",a.data),e.getUserInFo(),n(a.data))}))}})}))},getUserInFo:function(){wx.request({url:t.getStorageSync("url")+"shopUserInfo",method:"get",header:{"Access-Token":t.getStorageSync("jwt")},success:function(e){if(console.log(e),200==e.data.status&&(t.setStorageSync("avatar",e.data.data.avatar),t.setStorageSync("union_id",e.data.data.union_id),wx.setStorage({key:"user",data:e.data.data}),t.getStorageSync("shareInfo"))){if(0!=e.data.data.leader_uid&&e.data.data.leader_uid!=t.getStorageSync("shareInfo").leader_id)return!1;0==e.data.leader_uid&&getApp().bindGroup()}}})},setTheme:function(){wx.setNavigationBarColor({frontColor:t.getStorageSync("nabigationFontColor"),backgroundColor:t.getStorageSync("background")})},postSubscribeMessage:function(t){console.log(t);var e=[];for(var n in t)"accept"==t[n]&&e.push(n);0!=e.length&&this.http({url:"SubscribeMessage",data:{template_id:e},method:"post"})},changeLeader:function(t){this.http({url:"shopTuanUserLeader/"+t,method:"put"})}},methods:{is_update:function(){var t=wx.getUpdateManager();t.onCheckForUpdate((function(t){})),t.onUpdateReady((function(){wx.showModal({title:"更新提示",content:"新版本已经准备好，是否重启应用？",success:function(e){e.confirm&&t.applyUpdate()}})})),t.onUpdateFailed((function(){}))},getSubscribeTemplateId:function(){this.http({url:"SubscribeTemplateId",data:{key:t.getStorageSync("shopkey")}}).then((function(e){var n={};for(var a in e.data)n[a]=e.data[a][1];t.setStorageSync("SubscribeTemplateId",n)}))},is_open:function(t){return 0!=t}}};e.default=o}).call(this,n("543d")["default"])},"6a73":function(t,e,n){"use strict";n.r(e);var a=n("5647"),o=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=o.a},"9a89":function(t,e,n){"use strict";(function(t){n("cd90");var e=c(n("66fd")),a=c(n("a1aa")),o=n("1be5"),r=n("7718");function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default.config.productionTip=!1,e.default.prototype.http=o.ajax,e.default.prototype.login=r.login,e.default.prototype.getColor=r.getColor,e.default.prototype.setTheme=r.setTheme,e.default.prototype.bindGroup=r.bindGroup,e.default.prototype.postSubscribeMessage=r.postSubscribeMessage,e.default.prototype.merchantPlugin=r.merchantPlugin,e.default.mixin({methods:{setData:function(t,e){var n=this,a=function(t,e,n){return e=e.split("."),e.forEach((function(e){if(null===t[e]||void 0===t[e]){var a=/^[0-9]+$/;t[e]=a.test(n)?[]:{},t=t[e]}else t=t[e]})),t},o=function(t){return"function"==typeof t||!1};Object.keys(t).forEach((function(e){var o,r,c=t[e];e=e.replace(/\]/g,"").replace(/\[/g,".");var u=e.lastIndexOf(".");-1!=u?(r=e.slice(u+1),o=a(n,e.slice(0,u),r)):(r=e,o=n),o.$data&&void 0===o.$data[r]?(Object.defineProperty(o,r,{get:function(){return o.$data[r]},set:function(t){o.$data[r]=t,n.$forceUpdate()},enumerable:!0,configurable:!0}),o[r]=c):n.$set(o,r,c)})),o(e)&&this.$nextTick(e)}}}),a.default.mpType="app";var d=new e.default(i({},a.default));t(d).$mount()}).call(this,n("543d")["createApp"])},a1aa:function(t,e,n){"use strict";n.r(e);var a=n("6a73");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("52a1");var r,c,u,i,s=n("f0c5"),d=Object(s["a"])(a["default"],r,c,!1,null,null,null,!1,u,i);e["default"]=d.exports},dde6:function(t,e,n){}},[["9a89","common/runtime","common/vendor"]]]);