(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e2f0160"],{"21e0":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"customers-ware-container"},[s("el-row",{staticClass:"customers-ware-row"},[s("el-col",{staticClass:"customers-ware-row-col",staticStyle:{"text-align":"left","padding-left":"15px"},attrs:{span:14}},[s("el-button",{staticStyle:{padding:"8px 30px"},attrs:{type:"primary",size:"small"},on:{click:e.add}},[e._v("新 增")])],1),e._v(" "),s("el-col",{staticStyle:{"text-align":"right","padding-right":"40px"},attrs:{span:10}},[s("el-input",{staticStyle:{"max-width":"240px"},attrs:{placeholder:"请输入名称",size:"small"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}},[s("el-button",{staticClass:"search-button",attrs:{slot:"suffix",type:"text",size:"small"},on:{click:e.search},slot:"suffix"},[s("i",{staticClass:"el-icon-search"})])],1)],1)],1),e._v(" "),s("div",[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.wareList,stripe:""}},[s("el-table-column",{attrs:{prop:"name",label:"路线",align:"center"}}),e._v(" "),s("el-table-column",{attrs:{label:"仓库",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("a",{attrs:{href:"javascript: void(0)"},on:{click:function(s){return e.getWarehousesBinding(t.row)}}},[e._v(e._s(t.row.houses.length))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"团长",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("a",{attrs:{href:"javascript: void(0)"},on:{click:function(s){return e.getGroupBinding(t.row)}}},[e._v(e._s(t.row.leaders.length))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-switch",{attrs:{"active-color":"#13ce66","active-value":"1","inactive-value":"0"},on:{change:function(s){return e.changeStatus(t.row)}},model:{value:t.row.status,callback:function(s){e.$set(t.row,"status",s)},expression:"scope.row.status"}})]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{staticClass:"action-button",attrs:{type:"text"},on:{click:function(s){return e.showWarehouses(t.row)}}},[e._v("绑定仓库")]),e._v(" "),s("el-button",{staticClass:"action-button",attrs:{type:"text"},on:{click:function(s){return e.showGroup(t.row)}}},[e._v("绑定团长")]),e._v(" "),s("el-button",{staticClass:"action-button",attrs:{type:"text"},on:{click:function(s){return e.edit(t.row)}}},[s("i",{staticClass:"el-icon-edit"})]),e._v(" "),s("el-button",{staticClass:"action-button",attrs:{type:"text"},on:{click:function(s){return e.del(t.row)}}},[s("svg-icon",{attrs:{"icon-class":"shanchu"}})],1)]}}])})],1)],1),e._v(" "),s("div",{staticStyle:{"text-align":"right",margin:"15px 15px"}},[s("el-pagination",{staticClass:"page",attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.count,"page-size":10,"current-page":e.page},on:{"size-change":e.changePage,"current-change":e.changePage}})],1),e._v(" "),s("el-dialog",{attrs:{visible:e.disWarehousesBinding,width:"600px",title:"仓库"},on:{"update:visible":function(t){e.disWarehousesBinding=t}}},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.warehousesBindingList,stripe:""},on:{"selection-change":e.selectWarehousesBinding}},[s("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),s("el-table-column",{attrs:{prop:"name",label:"仓库名称",align:"center"}}),e._v(" "),s("el-table-column",{attrs:{prop:"address",label:"仓库地址",align:"center"}})],1),e._v(" "),s("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[s("el-button",{staticStyle:{padding:"8px 30px"},attrs:{type:"primary",size:"small"},on:{click:e.delWarehouses}},[e._v("解绑")])],1)],1),e._v(" "),s("el-dialog",{attrs:{visible:e.disGroupBinding,width:"600px",title:"团长"},on:{"update:visible":function(t){e.disGroupBinding=t}}},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.groupBindingList,stripe:""},on:{"selection-change":e.selectGroupBinding}},[s("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),s("el-table-column",{attrs:{prop:"realname",label:"团长",align:"center"}}),e._v(" "),s("el-table-column",{attrs:{prop:"area_name",label:"小区名称",align:"center"}})],1),e._v(" "),s("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[s("el-button",{staticStyle:{padding:"8px 30px"},attrs:{type:"primary",size:"small"},on:{click:e.delGroup}},[e._v("解绑")])],1)],1),e._v(" "),s("el-dialog",{attrs:{visible:e.disWarehouses,width:"600px",title:"仓库"},on:{"update:visible":function(t){e.disWarehouses=t}}},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.warehousesList,stripe:""},on:{"selection-change":e.selectWarehouses}},[s("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),s("el-table-column",{attrs:{prop:"name",label:"仓库名称",align:"center"}}),e._v(" "),s("el-table-column",{attrs:{prop:"address",label:"仓库地址",align:"center"}})],1),e._v(" "),s("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[s("el-button",{staticStyle:{padding:"8px 30px"},attrs:{type:"primary",size:"small"},on:{click:e.addWarehouses}},[e._v("绑定")])],1)],1),e._v(" "),s("el-dialog",{attrs:{visible:e.disGroup,width:"600px",title:"团长"},on:{"update:visible":function(t){e.disGroup=t}}},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.groupList,stripe:""},on:{"selection-change":e.selectGroup}},[s("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),s("el-table-column",{attrs:{prop:"realname",label:"团长",align:"center"}}),e._v(" "),s("el-table-column",{attrs:{prop:"area_name",label:"小区名称",align:"center"}})],1),e._v(" "),s("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[s("el-button",{staticStyle:{padding:"8px 30px"},attrs:{type:"primary",size:"small"},on:{click:e.addGroup}},[e._v("绑定")])],1)],1),e._v(" "),s("el-dialog",{attrs:{visible:e.disAdd,width:"500px",title:e.isAdd?"新增":"修改"},on:{"update:visible":function(t){e.disAdd=t}}},[e.disAdd?s("add",{attrs:{isAdd:e.isAdd,wareData:e.wareData},on:{success:function(t){e.disAdd=!1,e.getWareList()}}}):e._e()],1)],1)},i=[],n=(s("7f7f"),s("9671")),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-form",{ref:"addleaveform",attrs:{rules:e.addRules,model:e.wareData,"label-width":"120px"}},[s("el-form-item",{attrs:{label:"路线名称",prop:"name"}},[s("el-input",{staticStyle:{"max-width":"70%"},attrs:{placeholder:"请输入路线名称",size:"small"},model:{value:e.wareData.name,callback:function(t){e.$set(e.wareData,"name",t)},expression:"wareData.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"状态"}},[s("el-switch",{attrs:{"active-color":"#13ce66","active-value":"1","inactive-value":"0"},model:{value:e.wareData.status,callback:function(t){e.$set(e.wareData,"status",t)},expression:"wareData.status"}})],1)],1),e._v(" "),s("div",{staticStyle:{"text-align":"center"}},[s("el-button",{staticStyle:{padding:"8px 30px"},attrs:{type:"primary",size:"small"},on:{click:e.submit}},[e._v("提 交")])],1)],1)},o=[],u=s("4360"),l={name:"addLeave",props:{isAdd:{type:Boolean,required:!0,default:!0},wareData:{type:Object,default:function(){return{key:u["a"].state.app.activeApp.saa_key,name:"",status:"1"}}}},data:function(){return{disMap:!1,addRules:{name:[{required:!0,message:"请输入路线名称",trigger:"blur"}]}}},methods:{submit:function(){var e=this;this.$refs.addleaveform.validate((function(t){t&&(e.isAdd?Object(n["m"])(e.wareData).then((function(t){200===t.status?(e.$emit("success"),e.$message.success("添加成功！")):e.$message.error(t.message)})):Object(n["q"])(e.wareData).then((function(t){200===t.status?(e.$emit("success"),e.$message.success("修改成功！")):e.$message.error(t.message)})))}))}}},c=l,d=s("2877"),h=Object(d["a"])(c,r,o,!1,null,null,null),p=h.exports,g={name:"warehose",components:{add:p},data:function(){return{key:this.$store.state.app.activeApp.saa_key,page:1,count:1,disAdd:!1,isAdd:!0,wareData:{},searchName:"",wareList:[],disWarehousesBinding:!1,disGroupBinding:!1,disWarehouses:!1,disGroup:!1,warehousesBindingList:[],groupBindingList:[],warehousesList:[],groupList:[],selectWarehousesBindingList:[],selectGroupBindingList:[],selectWarehousesList:[],selectGroupList:[],operationWare:[],limit:200}},mounted:function(){this.getWareList()},methods:{getWareList:function(){var e=this,t={key:this.key,limit:10,page:this.page};Object(n["k"])(t).then((function(t){200===t.status?(e.wareList=t.data,e.count=parseInt(t.count)):204===t.status?(e.wareList=[],e.count=1):e.$message.error(t.message)}))},add:function(){this.wareData={name:"",status:"1",key:this.key},this.disAdd=!0,this.isAdd=!0},edit:function(e){this.wareData={key:this.key,name:e.name,status:e.status,id:e.id},this.disAdd=!0,this.isAdd=!1},del:function(e){var t=this,s={key:this.key,id:e.id};Object(n["c"])(s).then((function(e){200===e.status?(t.getWareList(),t.$message.success("删除成功！")):t.$message.error(e.message)}))},changeStatus:function(e){var t=this,s={key:this.key,id:e.id,status:e.status};Object(n["q"])(s).then((function(e){200===e.status?t.$message.success("修改成功！"):t.$message.error(e.message)}))},changePage:function(e){this.page=e,this.getAuditList()},search:function(){var e=this,t={key:this.key,limit:10,page:this.page,searchName:this.searchName};Object(n["k"])(t).then((function(t){200===t.status?(e.wareList=t.data,e.count=parseInt(t.count)):204===t.status?(e.wareList=[],e.count=1):e.$message.error(t.message)}))},getWarehousesBinding:function(e){this.operationWare=e,this.warehousesBindingList=e.house_info,this.warehousesBindingList.length>0?this.disWarehousesBinding=!0:this.$message.warning("没有已绑定的仓库")},selectWarehousesBinding:function(e){this.selectWarehousesBindingList=e},getGroupBinding:function(e){this.operationWare=e,this.groupBindingList=e.leader_info,this.groupBindingList.length>0?this.disGroupBinding=!0:this.$message.warning("没有已绑定的团长")},selectGroupBinding:function(e){this.selectGroupBindingList=e},showWarehouses:function(e){var t=this;this.operationWare=e;var s={key:this.key,id:e.id,limit:this.limit};Object(n["s"])(s).then((function(e){200===e.status?(t.warehousesList=e.data,t.disWarehouses=!0):204===e.status?(t.$message.warning("没有未绑定的仓库"),t.warehousesList=[]):t.$message.error(e.message)}))},selectWarehouses:function(e){this.selectWarehousesList=e},showGroup:function(e){var t=this;this.operationWare=e;var s={key:this.key,id:e.id,limit:this.limit};Object(n["r"])(s).then((function(e){200===e.status?(t.groupList=e.data,t.disGroup=!0):204===e.status?(t.$message.warning("没有未绑定的团长"),t.groupList=[]):t.$message.error(e.message)}))},selectGroup:function(e){this.selectGroupList=e},addWarehouses:function(){var e=this,t=this.operationWare.houses;if(this.selectWarehousesList.length>0)for(var s=0;s<this.selectWarehousesList.length;s++)t.push(this.selectWarehousesList[s].id);if(t.length>0){t=JSON.stringify(t);var a={key:this.key,id:this.operationWare.id,houses:t};Object(n["q"])(a).then((function(t){200===t.status?(e.getWareList(),e.$message.success("绑定成功"),e.disWarehouses=!1):e.$message.error(t.message)}))}else this.$message.warning("未选择仓库")},addGroup:function(){var e=this,t=this.operationWare.leaders;if(this.selectGroupList.length>0)for(var s=0;s<this.selectGroupList.length;s++)t.push(this.selectGroupList[s].id);if(t.length>0){t=JSON.stringify(t);var a={key:this.key,id:this.operationWare.id,leaders:t};Object(n["q"])(a).then((function(t){200===t.status?(e.getWareList(),e.$message.success("绑定成功"),e.disGroup=!1):e.$message.error(t.message)}))}else this.$message.warning("未选择团长")},delWarehouses:function(){var e=this,t=this.operationWare.houses;if(this.selectWarehousesBindingList.length>0)for(var s=0;s<this.selectWarehousesBindingList.length;s++){var a=t.indexOf(this.selectWarehousesBindingList[s].id);a>-1&&t.splice(a,1)}t=!(t.length<=0)&&JSON.stringify(t);var i={key:this.key,id:this.operationWare.id,houses:t};Object(n["q"])(i).then((function(t){200===t.status?(e.getWareList(),e.$message.success("解绑成功"),e.disWarehousesBinding=!1):e.$message.error(t.message)}))},delGroup:function(){var e=this,t=this.operationWare.leaders;if(this.selectGroupBindingList.length>0)for(var s=0;s<this.selectGroupBindingList.length;s++){var a=t.indexOf(this.selectGroupBindingList[s].id);a>-1&&t.splice(a,1)}t=!(t.length<=0)&&JSON.stringify(t);var i={key:this.key,id:this.operationWare.id,leaders:t};Object(n["q"])(i).then((function(t){200===t.status?(e.getWareList(),e.$message.success("解绑成功"),e.disGroupBinding=!1):e.$message.error(t.message)}))}}},m=g,f=(s("739c"),Object(d["a"])(m,a,i,!1,null,"0a27de18",null));t["default"]=f.exports},"739c":function(e,t,s){"use strict";var a=s("f113"),i=s.n(a);i.a},9671:function(e,t,s){"use strict";s.d(t,"j",(function(){return i})),s.d(t,"f",(function(){return n})),s.d(t,"n",(function(){return r})),s.d(t,"b",(function(){return o})),s.d(t,"i",(function(){return u})),s.d(t,"p",(function(){return l})),s.d(t,"g",(function(){return c})),s.d(t,"e",(function(){return d})),s.d(t,"d",(function(){return h})),s.d(t,"h",(function(){return p})),s.d(t,"l",(function(){return g})),s.d(t,"o",(function(){return m})),s.d(t,"a",(function(){return f})),s.d(t,"k",(function(){return v})),s.d(t,"m",(function(){return b})),s.d(t,"q",(function(){return y})),s.d(t,"c",(function(){return w})),s.d(t,"s",(function(){return L})),s.d(t,"r",(function(){return k}));var a=s("b775");function i(e){return Object(a["a"])({url:"/merchantTuanUser",method:"get",params:e})}function n(e){var t=e.id;return delete e.id,Object(a["a"])({url:"/merchantLeaderGoods/"+t,method:"get",params:e})}function r(e){var t=e.id;return delete e.id,Object(a["a"])({url:"merchantLeaderGoods/"+t,method:"put",data:e})}function o(e){var t=e.id;return delete e.id,Object(a["a"])({url:"/merchantTuanUserUntying/"+t,method:"delete",data:e})}function u(e){var t=e.id;return delete e.id,Object(a["a"])({url:"/merchantTuanUser/"+t,method:"get",params:e})}function l(e){var t=e.id;return delete e.id,Object(a["a"])({url:"/merchantTuanUsers/"+t,method:"put",data:e})}function c(e){var t=e.id;return delete e.id,Object(a["a"])({url:"/merchantLeagueMember/"+t,method:"get",params:e})}function d(e){return Object(a["a"])({url:"/merchantTuanUser",method:"get",params:e})}function h(e){var t=e.id;return delete e.id,Object(a["a"])({url:"/merchantTuanUser/"+t,method:"put",data:e})}function p(e){return Object(a["a"])({url:"/merchantLeaderLevel",method:"get",params:e})}function g(e){return Object(a["a"])({url:"/merchantLeaderLevel",method:"post",data:e})}function m(e){var t=e.id;return delete e.id,Object(a["a"])({url:"/merchantLeaderLevel/"+t,method:"put",data:e})}function f(e){var t=e.id;return delete e.id,Object(a["a"])({url:"/merchantLeaderLevel/"+t,method:"delete",data:e})}function v(e){return Object(a["a"])({url:"/merchantWarehouse",method:"get",params:e})}function b(e){return Object(a["a"])({url:"/merchantWarehouse",method:"post",data:e})}function y(e){var t=e.id;return delete e.id,Object(a["a"])({url:"/merchantWarehouse/"+t,method:"put",data:e})}function w(e){var t=e.id;return delete e.id,Object(a["a"])({url:"/merchantWarehouse/"+t,method:"delete",data:e})}function L(e){var t=e.id;return delete e.id,Object(a["a"])({url:"/merchantWarehouseHouse/"+t,method:"get",params:e})}function k(e){var t=e.id;return delete e.id,Object(a["a"])({url:"/merchantWarehouseLeader/"+t,method:"get",params:e})}},f113:function(e,t,s){}}]);