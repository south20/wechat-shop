(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-226aabb4"],{"02f4":function(t,e,a){var i=a("4588"),n=a("be13");t.exports=function(t){return function(e,a){var r,s,c=String(n(e)),l=i(a),o=c.length;return l<0||l>=o?t?"":void 0:(r=c.charCodeAt(l),r<55296||r>56319||l+1===o||(s=c.charCodeAt(l+1))<56320||s>57343?t?c.charAt(l):r:t?c.slice(l,l+2):s-56320+(r-55296<<10)+65536)}}},"0390":function(t,e,a){"use strict";var i=a("02f4")(!0);t.exports=function(t,e,a){return e+(a?i(t,e).length:1)}},"0bfb":function(t,e,a){"use strict";var i=a("cb7c");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"20c9":function(t,e,a){"use strict";var i=a("f1c4"),n=a.n(i);n.a},"20d6":function(t,e,a){"use strict";var i=a("5ca1"),n=a("0a49")(6),r="findIndex",s=!0;r in[]&&Array(1)[r]((function(){s=!1})),i(i.P+i.F*s,"Array",{findIndex:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(r)},"214f":function(t,e,a){"use strict";a("b0c5");var i=a("2aba"),n=a("32e9"),r=a("79e5"),s=a("be13"),c=a("2b4c"),l=a("520a"),o=c("species"),u=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),p=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2===a.length&&"a"===a[0]&&"b"===a[1]}();t.exports=function(t,e,a){var d=c(t),g=!r((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),f=g?!r((function(){var e=!1,a=/a/;return a.exec=function(){return e=!0,null},"split"===t&&(a.constructor={},a.constructor[o]=function(){return a}),a[d](""),!e})):void 0;if(!g||!f||"replace"===t&&!u||"split"===t&&!p){var m=/./[d],b=a(s,d,""[t],(function(t,e,a,i,n){return e.exec===l?g&&!n?{done:!0,value:m.call(e,a,i)}:{done:!0,value:t.call(a,e,i)}:{done:!1}})),h=b[0],_=b[1];i(String.prototype,t,h),n(RegExp.prototype,d,2==e?function(t,e){return _.call(t,this,e)}:function(t){return _.call(t,this)})}}},"28a5":function(t,e,a){"use strict";var i=a("aae3"),n=a("cb7c"),r=a("ebd6"),s=a("0390"),c=a("9def"),l=a("5f1b"),o=a("520a"),u=a("79e5"),p=Math.min,d=[].push,g="split",f="length",m="lastIndex",b=4294967295,h=!u((function(){RegExp(b,"y")}));a("214f")("split",2,(function(t,e,a,u){var _;return _="c"=="abbc"[g](/(b)*/)[1]||4!="test"[g](/(?:)/,-1)[f]||2!="ab"[g](/(?:ab)*/)[f]||4!="."[g](/(.?)(.?)/)[f]||"."[g](/()()/)[f]>1||""[g](/.?/)[f]?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!i(t))return a.call(n,t,e);var r,s,c,l=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,g=void 0===e?b:e>>>0,h=new RegExp(t.source,u+"g");while(r=o.call(h,n)){if(s=h[m],s>p&&(l.push(n.slice(p,r.index)),r[f]>1&&r.index<n[f]&&d.apply(l,r.slice(1)),c=r[0][f],p=s,l[f]>=g))break;h[m]===r.index&&h[m]++}return p===n[f]?!c&&h.test("")||l.push(""):l.push(n.slice(p)),l[f]>g?l.slice(0,g):l}:"0"[g](void 0,0)[f]?function(t,e){return void 0===t&&0===e?[]:a.call(this,t,e)}:a,[function(a,i){var n=t(this),r=void 0==a?void 0:a[e];return void 0!==r?r.call(a,n,i):_.call(String(n),a,i)},function(t,e){var i=u(_,t,this,e,_!==a);if(i.done)return i.value;var o=n(t),d=String(this),g=r(o,RegExp),f=o.unicode,m=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(h?"y":"g"),v=new g(h?o:"^(?:"+o.source+")",m),y=void 0===e?b:e>>>0;if(0===y)return[];if(0===d.length)return null===l(v,d)?[d]:[];var x=0,k=0,w=[];while(k<d.length){v.lastIndex=h?k:0;var $,P=l(v,h?d:d.slice(k));if(null===P||($=p(c(v.lastIndex+(h?0:k)),d.length))===x)k=s(d,k,f);else{if(w.push(d.slice(x,k)),w.length===y)return w;for(var S=1;S<=P.length-1;S++)if(w.push(P[S]),w.length===y)return w;k=x=$}}return w.push(d.slice(x)),w}]}))},3135:function(t,e,a){},"34b8":function(t,e,a){"use strict";a.d(e,"e",(function(){return n})),a.d(e,"a",(function(){return r})),a.d(e,"f",(function(){return s})),a.d(e,"c",(function(){return c})),a.d(e,"d",(function(){return l})),a.d(e,"b",(function(){return o})),a.d(e,"g",(function(){return u}));var i=a("b775");function n(t){return Object(i["a"])({url:"/pictureGroup",method:"get",params:t})}function r(t){return Object(i["a"])({url:"/pictureGroup",method:"post",data:t})}function s(t){return Object(i["a"])({url:"/pictureGroup/"+t.id,method:"put",data:t})}function c(t){return Object(i["a"])({url:"/pictureGroup/"+t.id,method:"delete",data:t})}function l(t){return Object(i["a"])({url:"/picture/"+t.id,method:"get",params:t})}function o(t){return Object(i["a"])({url:"/merchantGoodsPicture/"+t.id,method:"delete",data:t})}function u(t){return Object(i["a"])({url:"/merchantGoodsPicture",method:"post",data:t})}},3846:function(t,e,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},"3aa1":function(t,e,a){"use strict";var i=a("c65d"),n=a.n(i);n.a},"504c":function(t,e,a){var i=a("9e1e"),n=a("0d58"),r=a("6821"),s=a("52a7").f;t.exports=function(t){return function(e){var a,c=r(e),l=n(c),o=l.length,u=0,p=[];while(o>u)a=l[u++],i&&!s.call(c,a)||p.push(t?[a,c[a]]:c[a]);return p}}},"520a":function(t,e,a){"use strict";var i=a("0bfb"),n=RegExp.prototype.exec,r=String.prototype.replace,s=n,c="lastIndex",l=function(){var t=/a/,e=/b*/g;return n.call(t,"a"),n.call(e,"a"),0!==t[c]||0!==e[c]}(),o=void 0!==/()??/.exec("")[1],u=l||o;u&&(s=function(t){var e,a,s,u,p=this;return o&&(a=new RegExp("^"+p.source+"$(?!\\s)",i.call(p))),l&&(e=p[c]),s=n.call(p,t),l&&s&&(p[c]=p.global?s.index+s[0].length:e),o&&s&&s.length>1&&r.call(s[0],a,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(s[u]=void 0)})),s}),t.exports=s},"5f1b":function(t,e,a){"use strict";var i=a("23c6"),n=RegExp.prototype.exec;t.exports=function(t,e){var a=t.exec;if("function"===typeof a){var r=a.call(t,e);if("object"!==typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},"6b54":function(t,e,a){"use strict";a("3846");var i=a("cb7c"),n=a("0bfb"),r=a("9e1e"),s="toString",c=/./[s],l=function(t){a("2aba")(RegExp.prototype,s,t,!0)};a("79e5")((function(){return"/a/b"!=c.call({source:"a",flags:"b"})}))?l((function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!r&&t instanceof RegExp?n.call(t):void 0)})):c.name!=s&&l((function(){return c.call(this)}))},8615:function(t,e,a){var i=a("5ca1"),n=a("504c")(!1);i(i.S,"Object",{values:function(t){return n(t)}})},"92d3":function(t,e,a){"use strict";var i=a("3135"),n=a.n(i);n.a},a235:function(t,e,a){},a481:function(t,e,a){"use strict";var i=a("cb7c"),n=a("4bf8"),r=a("9def"),s=a("4588"),c=a("0390"),l=a("5f1b"),o=Math.max,u=Math.min,p=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,g=/\$([$&`']|\d\d?)/g,f=function(t){return void 0===t?t:String(t)};a("214f")("replace",2,(function(t,e,a,m){return[function(i,n){var r=t(this),s=void 0==i?void 0:i[e];return void 0!==s?s.call(i,r,n):a.call(String(r),i,n)},function(t,e){var n=m(a,t,this,e);if(n.done)return n.value;var p=i(t),d=String(this),g="function"===typeof e;g||(e=String(e));var h=p.global;if(h){var _=p.unicode;p.lastIndex=0}var v=[];while(1){var y=l(p,d);if(null===y)break;if(v.push(y),!h)break;var x=String(y[0]);""===x&&(p.lastIndex=c(d,r(p.lastIndex),_))}for(var k="",w=0,$=0;$<v.length;$++){y=v[$];for(var P=String(y[0]),S=o(u(s(y.index),d.length),0),A=[],L=1;L<y.length;L++)A.push(f(y[L]));var C=y.groups;if(g){var j=[P].concat(A,S,d);void 0!==C&&j.push(C);var O=String(e.apply(void 0,j))}else O=b(P,d,S,A,C,e);S>=w&&(k+=d.slice(w,S)+O,w=S+P.length)}return k+d.slice(w)}];function b(t,e,i,r,s,c){var l=i+t.length,o=r.length,u=g;return void 0!==s&&(s=n(s),u=d),a.call(c,u,(function(a,n){var c;switch(n.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(l);case"<":c=s[n.slice(1,-1)];break;default:var u=+n;if(0===u)return a;if(u>o){var d=p(u/10);return 0===d?a:d<=o?void 0===r[d-1]?n.charAt(1):r[d-1]+n.charAt(1):a}c=r[u-1]}return void 0===c?"":c}))}}))},a6b9:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var i=a("b775");function n(t){return Object(i["a"])({url:"/merchantSubUser",method:"get",params:t})}},aae3:function(t,e,a){var i=a("d3f4"),n=a("2d95"),r=a("2b4c")("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==n(t))}},b0c5:function(t,e,a){"use strict";var i=a("520a");a("5ca1")({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},b1d9:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"setting-yly-container"},[a("el-tabs",{on:{"tab-click":t.activeTab},model:{value:t.activeTabName,callback:function(e){t.activeTabName=e},expression:"activeTabName"}},[a("el-tab-pane",{attrs:{label:"活动管理",name:"1"}},["1"===t.activeTabName?a("activemanage"):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"砍价配置",name:"2"}},["2"===t.activeTabName?a("configcut"):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"发起砍价记录",name:"3"}},["3"===t.activeTabName?a("sponsor"):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"订单管理",name:"4"}},["4"===t.activeTabName?a("ordermanage"):t._e()],1)],1)],1)},n=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{padding:"20px 0"}},[a("el-form",{attrs:{model:t.configData,"label-width":"120px"}},[a("el-form-item",{staticClass:"goods-form-item",attrs:{label:"轮播图",prop:"pic_urls"}},[a("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:t.openMainPicPanel}},[t._v("选择图片")]),t._v(" "),a("div",{staticClass:"goods-form-item-text",staticStyle:{width:"calc(100% - 150px)"}},[t._v("建议尺寸：750×750，最多上传5张，支持png、jpg、jpeg格式，大小不超过500KB")])],1),t._v(" "),t.mainPicList.length>0?a("el-form-item",{staticClass:"goods-form-item"},t._l(t.mainPicList,(function(e,i){return a("l-pic",{key:i,attrs:{picurl:e,pickey:i,picdata:e,picmargin:"-20px 10px 10px 10px",size:{width:80,height:80},piclist:t.mainPicList},on:{delPic:t.delMainPic}})})),1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"海报图"}},[a("select-img",{on:{selectData:function(e){return t.configData.bargain_poster=e[0]}}})],1),t._v(" "),""!==t.configData.bargain_poster?a("el-form-item",[a("l-pic",{attrs:{picurl:t.configData.bargain_poster,size:{width:100,height:100},disdel:!1,disview:!1}})],1):t._e()],1),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{staticStyle:{padding:"8px 30px"},attrs:{type:"primary",size:"small"},on:{click:t.submit}},[t._v("保 存")])],1),t._v(" "),a("Modal",{attrs:{width:"1128","footer-hide":!0},model:{value:t.disPicPanel,callback:function(e){t.disPicPanel=e},expression:"disPicPanel"}},[t.disPicPanel?a("photo-album",{attrs:{maxcount:t.maxPicCount},on:{selectPicData:t.getPicData}}):t._e()],1)],1)},s=[],c=(a("20d6"),a("28a5"),a("ac6a"),a("b7be")),l=a("a436"),o=a("334a"),u=a("2f39"),p={components:{PhotoAlbum:l["a"],LPic:o["a"],SelectImg:u["a"]},data:function(){return{configData:{},disPicPanel:!1,maxPicCount:5,mainPicList:[]}},watch:{mainPicList:function(t){if(0===t.length)this.configData.bargain_rotation="";else{var e="";t.forEach((function(t,a){e+=a<4?t+",":t})),this.configData.bargain_rotation=e}}},mounted:function(){this.getCutConfig()},methods:{submit:function(){var t=this,e={id:this.$store.state.app.activeApp.saa_id,key:this.$store.state.app.activeApp.saa_key,bargain_rotation:this.configData.bargain_rotation,bargain_poster:this.configData.bargain_poster};Object(c["cb"])(e).then((function(e){200===e.status?t.$message.success("修改成功！"):t.$message.error(e.message)}))},getCutConfig:function(){var t=this;Object(c["n"])({id:this.$store.state.app.activeApp.saa_id,key:this.$store.state.app.activeApp.saa_key}).then((function(e){200===e.status?(t.configData=e.data,t.mainPicList=[],t.mainPicList=t.configData.bargain_rotation.split(",").filter((function(t){return""!==t}))):t.$message.error(e.message)}))},openMainPicPanel:function(){this.maxPicCount>0?this.disPicPanel=!0:this.$message.warning("最多可选择5张图片，已选择".concat(5-this.maxPicCount,"张,不可选择"))},getPicData:function(t){var e=this;this.disPicPanel=!1,t.forEach((function(t){if(!(e.maxPicCount>0))return e.$message.warning("最多可选择5张图片，已选择".concat(5-e.maxPicCount,"张")),!1;e.mainPicList.push(t.pic_url),e.maxPicCount--}))},delMainPic:function(t){this.mainPicList.splice(this.mainPicList.findIndex((function(e){return e===t})),1),this.maxPicCount++}}},d=p,g=(a("feb4"),a("2877")),f=Object(g["a"])(d,r,s,!1,null,"f978e7e8",null),m=f.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{staticClass:"setting-yly-row"},[a("el-col",{staticClass:"setting-yly-row-col",staticStyle:{"text-align":"left","padding-left":"15px"},attrs:{span:14}},[a("el-button",{staticStyle:{padding:"8px 30px"},attrs:{type:"primary",size:"small"},on:{click:function(e){t.addActivity=!0}}},[t._v("新 增")])],1),t._v(" "),a("el-col",{staticStyle:{"text-align":"right","padding-right":"40px"},attrs:{span:10}},[a("el-input",{staticStyle:{"max-width":"240px"},attrs:{placeholder:"请输入名称",size:"small"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}},[a("el-button",{staticClass:"search-button",attrs:{slot:"suffix",type:"text",size:"small"},on:{click:t.search},slot:"suffix"},[a("i",{staticClass:"el-icon-search"})])],1)],1)],1),t._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.payList,stripe:""}},[a("el-table-column",{attrs:{prop:"name",label:"商品名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"format_bargain_start_time",label:"活动开始时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"format_bargain_end_time",label:"活动结束时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"是否支持单独购买",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s("1"==e.row.is_buy_alone?"支持":"不支持"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"fictitious_initiate_bargain",label:"虚拟发起砍价",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"fictitious_help_bargain",label:"虚拟帮砍人数",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"bargain_price",label:"最低价",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"help_number",label:"次数",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"format_create_time",label:"创建时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"action-button",attrs:{type:"text"},on:{click:function(a){return t.eidt(e.row)}}},[a("i",{staticClass:"el-icon-edit"})]),t._v(" "),a("el-button",{staticClass:"action-button",attrs:{type:"text"},on:{click:function(a){return t.del(e.row)}}},[a("svg-icon",{attrs:{"icon-class":"shanchu"}})],1)]}}])})],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"15px 15px"}},[a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"total, prev, pager, next, jumper",total:t.count,"page-size":10,"current-page":t.page},on:{"size-change":t.changePage,"current-change":t.changePage}})],1),t._v(" "),a("el-dialog",{attrs:{visible:t.addActivity,width:"900px",title:"新增"},on:{"update:visible":function(e){t.addActivity=e}}},[t.addActivity?a("add",{attrs:{isAdd:t.isAdd,addData:t.payData},on:{success:t.bindGoodsId}}):t._e()],1),t._v(" "),a("el-dialog",{attrs:{visible:t.editActivity,width:"1100px",title:t.isAdd?"新增":"修改"},on:{"update:visible":function(e){t.editActivity=e}}},[a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"活动时间"}},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","value-format":"yyyy-MM-dd HH:mm:ss","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.data.bargain_time,callback:function(e){t.$set(t.data,"bargain_time",e)},expression:"data.bargain_time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"支持单独购买"}},[a("el-col",{attrs:{span:10}},[a("el-switch",{model:{value:t.data.is_buy_alone,callback:function(e){t.$set(t.data,"is_buy_alone",e)},expression:"data.is_buy_alone"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"虚拟发起砍价数"}},[a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:t.data.fictitious_initiate_bargain,callback:function(e){t.$set(t.data,"fictitious_initiate_bargain",e)},expression:"data.fictitious_initiate_bargain"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"虚拟帮砍人数"}},[a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:t.data.fictitious_help_bargain,callback:function(e){t.$set(t.data,"fictitious_help_bargain",e)},expression:"data.fictitious_help_bargain"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"砍价最终底价"}},[a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:t.data.bargain_price,callback:function(e){t.$set(t.data,"bargain_price",e)},expression:"data.bargain_price"}})],1),t._v(" 必须大于0\n      ")],1),t._v(" "),a("el-form-item",{attrs:{label:"好友帮砍次数"}},[a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:t.data.help_number,callback:function(e){t.$set(t.data,"help_number",e)},expression:"data.help_number"}})],1),t._v(" 限制该用户对当前商品最多可以帮砍次数\n      ")],1),t._v(" "),a("el-form-item",{attrs:{label:"砍价时间限制"}},[a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:t.data.bargain_limit_time,callback:function(e){t.$set(t.data,"bargain_limit_time",e)},expression:"data.bargain_limit_time"}})],1),t._v(" 发起砍价后，最多砍价小时数，只能填写整数\n      ")],1),t._v(" "),t._l(t.data.bargain_rule.bargain_price,(function(e,i){return a("el-form",{key:i,staticClass:"demo-form-inline",attrs:{inline:!0,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"金额大于"}},[a("el-input",{attrs:{placeholder:"审批人"},model:{value:t.data.bargain_rule.bargain_price[i],callback:function(e){t.$set(t.data.bargain_rule.bargain_price,i,e)},expression:"data.bargain_rule.bargain_price[index]"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"每次砍价","label-width":"80px"}},[a("el-input",{attrs:{placeholder:"请输入最小值"},model:{value:t.data.bargain_rule.bargain_min[i],callback:function(e){t.$set(t.data.bargain_rule.bargain_min,i,e)},expression:"data.bargain_rule.bargain_min[index]"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"到","label-width":"30px"}},[a("el-input",{attrs:{placeholder:"请输入最大值"},model:{value:t.data.bargain_rule.bargain_max[i],callback:function(e){t.$set(t.data.bargain_rule.bargain_max,i,e)},expression:"data.bargain_rule.bargain_max[index]"}})],1),t._v(" "),a("el-form-item",[a("div",{on:{click:t.addbargain}},[t._v("添加")])])],1)}))],2),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.postActivity}},[t._v("确定")])],1)],1)},h=[],_=a("b775");function v(t){return Object(_["a"])({url:"/merchantBargainGoods",method:"get",params:t})}function y(t){var e=t.id;return delete t.id,Object(_["a"])({url:"/merchantBargainGoods/".concat(e),method:"put",data:t})}var x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{padding:"15px 0"}},[a("el-input",{staticStyle:{width:"280px"},attrs:{placeholder:"商品名称",size:"small"},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search",size:"small"},on:{click:function(e){return t.getGoodsList("search")}},slot:"append"})],1),t._v(" "),a("el-select",{staticStyle:{width:"240px"},attrs:{size:"small"},on:{change:t.supplierGoods},model:{value:t.supplier_id,callback:function(e){t.supplier_id=e},expression:"supplier_id"}},[a("el-option",{attrs:{label:"请选择门店",value:""}}),t._v(" "),a("el-option",{attrs:{label:"所有门店",value:"0"}}),t._v(" "),t._l(t.supplierList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.leader.realname,value:t.id}})}))],2)],1),t._v(" "),t.isAdd?a("el-table",{attrs:{data:t.goodsList,"highlight-current-row":"","max-height":"500"}},[a("el-table-column",{attrs:{prop:"name",label:"商品id",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{attrs:{label:e.row.id},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}})]}}],null,!1,2976192906)}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"商品名称",align:"left"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pic_urls",label:"图片",align:"left"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("LPic",{attrs:{picurl:t.row.pic_urls.split(",")[0],size:{width:40,height:40},disdel:!1,disview:!1}})]}}],null,!1,3864256212)}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"价格",align:"left"}})],1):t._e(),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"15px 15px"}},[a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"total, prev, pager, next, jumper",total:t.count,"page-size":5,"current-page":t.page},on:{"size-change":t.changePage,"current-change":t.changePage}})],1),t._v(" "),a("div",{staticStyle:{"padding-top":"20px","text-align":"center"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.bindGoods}},[t._v("确定")])],1)],1)},k=[],w=a("a6b9"),$={props:{addData:{type:Object,required:!0},isAdd:{type:Boolean,required:!0}},components:{LPic:o["a"]},data:function(){return{goodsList:[],radio:1,disAdd:!1,searchName:"",page:1,supplierList:[],supplier_id:"",supplier:0,count:1}},mounted:function(){this.getGoodsList(),this.getShopList()},methods:{getGoodsList:function(t){var e=this;"search"==t&&(this.page=1);var a={key:this.$store.state.app.activeApp.saa_key,limit:5,page:this.page,searchName:this.searchName};""!==this.supplier_id?"0"!==this.supplier_id&&(a.supplier_id=this.supplier_id):a.supplier_id=0,v(a).then((function(t){e.goodsList=t.data,e.count=parseInt(t.count)}))},getShopList:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,limit:500,type:"1"};Object(w["a"])(e).then((function(e){200===e.status?t.supplierList=e.data:204===e.status?t.supplierList=[]:t.$message.error(e.message)}))},supplierGoods:function(){this.getGoodsList()},changePage:function(t){this.page=t,this.getGoodsList()},bindGoods:function(){console.log(this.radio),this.$emit("success",{radio:this.radio})},postActivity:function(){this.$emit("success")},submit:function(){var t=this;this.$refs.addform.validate((function(e){e&&(t.isAdd?Object(c["U"])(t.addData).then((function(e){200===e.status?(t.$emit("success"),t.$message.success("添加成功！")):t.$message.error(e.message)})):Object(c["eb"])(t.addData).then((function(e){200===e.status?(t.$emit("success"),t.$message.success("修改成功！")):t.$message.error(e.message)})))}))}}},P=$,S=Object(g["a"])(P,x,k,!1,null,null,null),A=S.exports,L={name:"setting-yly",components:{add:A},data:function(){return{page:1,count:1,payList:[],searchName:"",addActivity:!1,isAdd:!0,editActivity:!1,radio:0,payData:{},data:{key:this.$store.state.app.activeApp.saa_key,is_bargain:1,bargain_time:[new Date,new Date((new Date).getTime()+36e3)],bargain_start_time:"",bargain_end_time:"",is_buy_alone:"",fictitious_initiate_bargain:"",fictitious_help_bargain:"",bargain_price:"",help_number:"",bargain_limit_time:"",bargain_rule:{bargain_price:[0],bargain_min:[0],bargain_max:[0]}}}},mounted:function(){this.activeManage()},methods:{activeManage:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,page:this.page,limit:10,status:1};Object(c["a"])(e).then((function(e){200===e.status?(t.payList=e.data,t.count=parseInt(e.count)):204===e.status?(t.payList=[],t.count=1):t.$message.error(e.message)}))},changePage:function(t){this.page=t,this.activeManage()},addbargain:function(){this.data.bargain_rule.bargain_price.push(""),this.data.bargain_rule.bargain_min.push(""),this.data.bargain_rule.bargain_max.push("")},search:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,page:1,limit:10,searchName:this.searchName};Object(c["a"])(e).then((function(e){200===e.status?(t.payList=e.data,t.count=parseInt(e.count)):204===e.status?(t.payList=[],t.count=1):t.$message.error(e.message)}))},bindGoodsId:function(t){console.log(t),this.radio=t.radio,this.addActivity=!1,this.editActivity=!0},postActivity:function(){var t=this;console.log(this.data);var e=JSON.parse(JSON.stringify(this.data));e.bargain_start_time=this.data.bargain_time[0],e.bargain_end_time=this.data.bargain_time[1],e.id=this.radio,e.is_buy_alone=this.data.is_buy_alone?1:0,delete e.bargain_time,y(e).then((function(e){t.$message.success(e.message),t.activeManage(),t.editActivity=!1}))},add:function(){this.payData={key:this.$store.state.app.activeApp.saa_key,status:"1",money:"",remain_money:"",remarks:"",type:"0"},this.isAdd=!0,this.addActivity=!0},del:function(t){var e=this;t.key=this.$store.state.app.activeApp.saa_key,t.bargain_start_time=this.data.bargain_time[0],t.bargain_end_time=this.data.bargain_time[1],t.is_buy_alone=this.data.is_buy_alone?1:0,t.is_bargain="0",t.id=t.goods_id,delete t.bargain_time,delete t.delete_time,delete t.goods_id,delete t.create_time,delete t.update_time,delete t.format_create_time,delete t.format_update_time,delete t.format_bargain_start_time,delete t.format_bargain_end_time,console.log(t),y(t).then((function(t){e.$message.success(t.message),e.activeManage(),e.editActivity=!1}))},eidt:function(t){console.log(t),this.data={key:this.$store.state.app.activeApp.saa_key,is_bargain:t.is_bargain,bargain_time:[t.format_bargain_start_time,t.format_bargain_end_time],bargain_start_time:t.format_bargain_start_time,bargain_end_time:t.format_bargain_end_time,is_buy_alone:1==t.is_buy_alone,fictitious_initiate_bargain:t.fictitious_initiate_bargain,fictitious_help_bargain:t.fictitious_help_bargain,bargain_price:t.bargain_price,help_number:t.help_number,bargain_limit_time:t.bargain_limit_time,bargain_rule:t.bargain_rule,id:t.goods_id},this.radio=t.goods_id,this.editActivity=!0},changeStatus:function(t){var e=this,a={key:this.$store.state.app.activeApp.saa_key,id:t.id,status:t.status};Object(c["eb"])(a).then((function(t){200===t.status?e.$message.success("修改成功！"):e.$message.error(t.message)}))}}},C=L,j=(a("92d3"),Object(g["a"])(C,b,h,!1,null,"1f05c1c4",null)),O=j.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{staticClass:"setting-yly-row"},[a("el-col",{staticClass:"setting-yly-row-col",staticStyle:{"text-align":"left","padding-left":"15px"},attrs:{span:14}},[a("el-input",{staticStyle:{"max-width":"240px"},attrs:{placeholder:"请输入名称",size:"small"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}},[a("el-button",{staticClass:"search-button",attrs:{slot:"suffix",type:"text",size:"small"},on:{click:t.search},slot:"suffix"},[a("i",{staticClass:"el-icon-search"})])],1)],1)],1),t._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.goodsList,stripe:""}},[a("el-table-column",{attrs:{label:"商品图片",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("l-pic",{attrs:{picurl:t.row.pic_url,size:{width:40,height:40},disdel:!1,disview:!1}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"goods_name",label:"商品名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"商品价格",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cost_price",label:"商品当前价格",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"format_create_time",label:"创建时间",align:"center"}})],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"15px 15px"}},[a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"total, prev, pager, next, jumper",total:t.count,"page-size":10,"current-page":t.page},on:{"size-change":t.changePage,"current-change":t.changePage}})],1)],1)},D=[],E={name:"setting-yly",components:{LPic:o["a"]},data:function(){return{page:1,count:1,goodsList:[],searchName:""}},mounted:function(){this.getCutSponsorList()},methods:{getCutSponsorList:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,page:this.page,limit:10};Object(c["p"])(e).then((function(e){200===e.status?(t.goodsList=e.data,t.count=parseInt(e.count)):204===e.status?(t.goodsList=[],t.count=1):t.$message.error(e.message)}))},changePage:function(t){this.page=t,this.getCutSponsorList()},search:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,page:this.page,limit:10,searchName:this.searchName};Object(c["p"])(e).then((function(e){200===e.status?(t.goodsList=e.data,t.count=parseInt(e.count)):204===e.status?(t.goodsList=[],t.count=1):t.$message.error(e.message)}))}}},z=E,I=(a("eabd"),Object(g["a"])(z,N,D,!1,null,"2fa01bb4",null)),G=I.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{staticClass:"setting-yly-row"},[a("el-col",{staticClass:"setting-yly-row-col",staticStyle:{"text-align":"left","padding-left":"15px"},attrs:{span:14}},[a("el-input",{staticStyle:{"max-width":"240px"},attrs:{placeholder:"请输入名称",size:"small"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}},[a("el-button",{staticClass:"search-button",attrs:{slot:"suffix",type:"text",size:"small"},on:{click:t.search},slot:"suffix"},[a("i",{staticClass:"el-icon-search"})])],1)],1)],1),t._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.goodsList,stripe:""}},[a("el-table-column",{attrs:{prop:"id",label:"订单ID",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"商品名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"购买时价格",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"nickname",label:"买家昵称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"format_create_time",label:"下单时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-color":"#13ce66","active-value":"1","inactive-value":"0"},on:{change:function(a){return t.changeStatus(e.row)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])})],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"15px 15px"}},[a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"total, prev, pager, next, jumper",total:t.count,"page-size":10,"current-page":t.page},on:{"size-change":t.changePage,"current-change":t.changePage}})],1)],1)},R=[],T={name:"setting-yly",data:function(){return{page:1,count:1,goodsList:[],searchName:""}},mounted:function(){this.getCutOrderList()},methods:{getCutOrderList:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,page:this.page,limit:10};Object(c["o"])(e).then((function(e){200===e.status?(t.goodsList=e.data,t.count=parseInt(e.count)):204===e.status?(t.goodsList=[],t.count=1):t.$message.error(e.message)}))},changePage:function(t){this.page=t,this.getCutOrderList()},search:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,page:this.page,limit:10,searchName:this.searchName};Object(c["o"])(e).then((function(e){200===e.status?(t.goodsList=e.data,t.count=parseInt(e.count)):204===e.status?(t.goodsList=[],t.count=1):t.$message.error(e.message)}))}}},B=T,J=(a("20c9"),Object(g["a"])(B,M,R,!1,null,"12ca298d",null)),H=J.exports,q={name:"marketing-assemble",components:{configcut:m,activemanage:O,sponsor:G,ordermanage:H},data:function(){return{activeTabName:"1"}},methods:{activeTab:function(){console.log(this.activeTabName)}}},F=q,U=(a("3aa1"),Object(g["a"])(F,i,n,!1,null,"27c44dea",null));e["default"]=U.exports},c65d:function(t,e,a){},d060:function(t,e,a){},eabd:function(t,e,a){"use strict";var i=a("a235"),n=a.n(i);n.a},ed08:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("28a5"),a("a481"),a("6b54");var i=a("7618");function n(t,e){if(0===arguments.length)return null;var a,n=e||"{y}-{m}-{d} {h}:{i}:{s}";"object"===Object(i["a"])(t)?a=t:("string"===typeof t&&/^[0-9]+$/.test(t)&&(t=parseInt(t)),"number"===typeof t&&10===t.toString().length&&(t*=1e3),a=new Date(t));var r={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()},s=n.replace(/{(y|m|d|h|i|s|a)+}/g,(function(t,e){var a=r[e];return"a"===e?["日","一","二","三","四","五","六"][a]:(t.length>0&&a<10&&(a="0"+a),a||0)}));return s}},f1c4:function(t,e,a){},feb4:function(t,e,a){"use strict";var i=a("d060"),n=a.n(i);n.a}}]);