(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23c4fb90"],{"41d2":function(t,e,n){},"5a8a":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"marketing-coupon-container"},[n("div",{staticClass:"header"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("添加商品")]),t._v(" "),n("span",[t._v("商品价格，数量等信息，以商品设置为准；不能选择秒杀，拼团，砍价活动商品；需设置不能加入购物车；限购按需设置，以免损失。")])],1),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[n("el-table-column",{attrs:{prop:"id",label:"活动id",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"goods_id",label:"商品id",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{label:"主图"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"goodsimg"},[n("img",{key:t.item,staticClass:"goodsimg-item",attrs:{src:e.row.pic_urls}})])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"name",label:"标题"}}),t._v(" "),n("el-table-column",{attrs:{prop:"price",label:"价格"}}),t._v(" "),n("el-table-column",{attrs:{prop:"stocks",label:"库存"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),n("div",{staticStyle:{"text-align":"right",margin:"15px 15px"}},[n("el-pagination",{staticClass:"page",attrs:{background:"",layout:"total, prev, pager, next, jumper",total:t.count,"page-size":10,"current-page":t.page},on:{"size-change":t.changePage,"current-change":t.changePage}})],1),t._v(" "),n("el-dialog",{attrs:{title:"选择商品",width:"500px",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("div",{staticClass:"dialog-list"},[n("el-radio-group",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},t._l(t.goodsList,(function(e){return n("el-radio",{key:e.id,attrs:{label:e.id}},[n("img",{staticClass:"item-picurl",staticStyle:{width:"40px",height:"40px"},attrs:{src:e.pic_urls.split(",")[0]}}),t._v(" "),n("span",{staticClass:"item-yuan"},[t._v(t._s(e.name))])])})),1)],1),t._v(" "),n("div",{staticClass:"dialog-button"},[n("el-button",{attrs:{type:"primary"},on:{click:t.post}},[t._v("确定")])],1)])],1)},r=[],o=n("b7be"),i=n("c40e"),c={name:"coupon",components:{},data:function(){return{page:1,count:1,type:"10",dialogVisible:!1,list:[],goodsList:[],checked:0,tableData:[{id:1,goodsid:2,picurls:["https://imgs.juanpao.com/merchant%2Fshop%2Fgoods_picture%2F13%2FccvWPn%2F15723284125db7d3dcd0d98.jpeg","https://imgs.juanpao.com/merchant%2Fshop%2Fgoods_picture%2F13%2FccvWPn%2F15723284125db7d3dcd0d98.jpeg","https://imgs.juanpao.com/merchant%2Fshop%2Fgoods_picture%2F13%2FccvWPn%2F15723284125db7d3dcd0d98.jpeg"],title:"嘻嘻嘻哈哈哈",price:"123",stock:10}]}},watch:{},mounted:function(){this.getData(),this.getGoodsList()},methods:{getData:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,limit:1e3,page:this.page,status:this.status};Object(o["N"])(e).then((function(e){console.log(e),t.tableData=e.data}))},getGoodsList:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,limit:1e3,page:this.page,status:this.status};Object(i["j"])(e).then((function(e){200===e.status?t.goodsList=e.data:204===e.status?t.goodsList=[]:t.$message.error(e.message)}))},changePage:function(){},post:function(){this.dialogVisible=!1,this.putMerchantCashback()},putMerchantCashback:function(){var t=this;Object(o["db"])({goods_id:this.checked,key:this.$store.state.app.activeApp.saa_key}).then((function(){t.getData()}))},handleDelete:function(t,e){var n=this;console.log(e);var a={key:this.$store.state.app.activeApp.saa_key,id:e.id};this.$confirm("此操作将永久删除该活动, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["d"])(a).then((function(){n.$message({type:"success",message:"删除成功!"}),n.getData()}))})).catch((function(){n.$message({type:"info",message:"已取消删除"})}))}}},u=c,s=(n("9441"),n("2877")),d=Object(s["a"])(u,a,r,!1,null,"67f660c4",null);e["default"]=d.exports},9441:function(t,e,n){"use strict";var a=n("41d2"),r=n.n(a);r.a},c40e:function(t,e,n){"use strict";n.d(e,"f",(function(){return r})),n.d(e,"o",(function(){return o})),n.d(e,"t",(function(){return i})),n.d(e,"v",(function(){return c})),n.d(e,"b",(function(){return u})),n.d(e,"h",(function(){return s})),n.d(e,"g",(function(){return d})),n.d(e,"p",(function(){return l})),n.d(e,"u",(function(){return p})),n.d(e,"c",(function(){return h})),n.d(e,"j",(function(){return m})),n.d(e,"k",(function(){return g})),n.d(e,"e",(function(){return f})),n.d(e,"l",(function(){return b})),n.d(e,"s",(function(){return v})),n.d(e,"r",(function(){return j})),n.d(e,"a",(function(){return y})),n.d(e,"x",(function(){return _})),n.d(e,"m",(function(){return O})),n.d(e,"i",(function(){return k})),n.d(e,"q",(function(){return C})),n.d(e,"w",(function(){return G})),n.d(e,"d",(function(){return w})),n.d(e,"n",(function(){return F})),n.d(e,"y",(function(){return P}));var a=n("b775");function r(t){return Object(a["a"])({url:"/merchantCategory",method:"get",params:t})}function o(t){return Object(a["a"])({url:"/merchantCategory",method:"POST",data:t})}function i(t){return Object(a["a"])({url:"/merchantCategory/"+t.id,method:"PUT",data:t})}function c(t){return Object(a["a"])({url:"/merchantCategoryStatus/"+t.id,method:"PUT",data:t})}function u(t){return Object(a["a"])({url:"/merchantCategory/"+t.id,method:"DELETE",data:t})}function s(t){return Object(a["a"])({url:"/merchantCategoryParent",method:"get",params:t})}function d(t){return Object(a["a"])({url:"/merchantGrouping",method:"get",params:t})}function l(t){return Object(a["a"])({url:"/merchantGrouping",method:"POST",data:t})}function p(t){return Object(a["a"])({url:"/merchantGrouping/"+t.id,method:"PUT",data:t})}function h(t){return Object(a["a"])({url:"/merchantGrouping/"+t.id,method:"DELETE",data:t})}function m(t){return Object(a["a"])({url:"/merchantGoods",method:"get",params:t})}function g(t){return Object(a["a"])({url:"/merchantGoodsName",method:"get",params:t})}function f(t){var e=t.id;return delete t.id,Object(a["a"])({url:"/merchantGoods/"+e,method:"get",params:t})}function b(t){var e=t.id;return delete t.id,Object(a["a"])({url:"/merchantGoodsQCode/"+e,method:"get",params:t})}function v(t){var e=t.id;return delete t.id,Object(a["a"])({url:"/merchantIsUpdate/"+e,method:"get",params:t})}function j(t){var e=t.id;return delete t.id,Object(a["a"])({url:"/merchantGoods/"+e,method:"put",data:t})}function y(t){var e=t.id;return delete t.id,Object(a["a"])({url:"/merchantGoods/"+e,method:"delete",data:t})}function _(t){var e=t.id;return delete t.id,Object(a["a"])({url:"/merchantGood/"+e,method:"put",data:t})}function O(t){return Object(a["a"])({url:"/merchantCategoryTypeSub",method:"get",params:t})}function k(t){return Object(a["a"])({url:"/merchantGoodsLabel",method:"get",params:t})}function C(t){return Object(a["a"])({url:"/merchantGoodsLabel",method:"POST",data:t})}function G(t){return Object(a["a"])({url:"/merchantGoodsLabel/"+t.id,method:"PUT",data:t})}function w(t){return Object(a["a"])({url:"/merchantGoodsLabel/"+t.id,method:"DELETE",data:t})}function F(t){return Object(a["a"])({url:"/merchantGoodsRecycle",method:"get",params:t})}function P(t){var e=t.id;return delete t.id,Object(a["a"])({url:"/merchantGoodReduction/"+e,method:"PUT",data:t})}}}]);