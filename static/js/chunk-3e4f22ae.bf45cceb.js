(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e4f22ae"],{"02f4":function(t,e,a){var i=a("4588"),n=a("be13");t.exports=function(t){return function(e,a){var s,r,o=String(n(e)),l=i(a),c=o.length;return l<0||l>=c?t?"":void 0:(s=o.charCodeAt(l),s<55296||s>56319||l+1===c||(r=o.charCodeAt(l+1))<56320||r>57343?t?o.charAt(l):s:t?o.slice(l,l+2):r-56320+(s-55296<<10)+65536)}}},"0390":function(t,e,a){"use strict";var i=a("02f4")(!0);t.exports=function(t,e,a){return e+(a?i(t,e).length:1)}},"0bfb":function(t,e,a){"use strict";var i=a("cb7c");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"20d6":function(t,e,a){"use strict";var i=a("5ca1"),n=a("0a49")(6),s="findIndex",r=!0;s in[]&&Array(1)[s]((function(){r=!1})),i(i.P+i.F*r,"Array",{findIndex:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(s)},"214f":function(t,e,a){"use strict";a("b0c5");var i=a("2aba"),n=a("32e9"),s=a("79e5"),r=a("be13"),o=a("2b4c"),l=a("520a"),c=o("species"),u=!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2===a.length&&"a"===a[0]&&"b"===a[1]}();t.exports=function(t,e,a){var p=o(t),f=!s((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),g=f?!s((function(){var e=!1,a=/a/;return a.exec=function(){return e=!0,null},"split"===t&&(a.constructor={},a.constructor[c]=function(){return a}),a[p](""),!e})):void 0;if(!f||!g||"replace"===t&&!u||"split"===t&&!d){var h=/./[p],m=a(r,p,""[t],(function(t,e,a,i,n){return e.exec===l?f&&!n?{done:!0,value:h.call(e,a,i)}:{done:!0,value:t.call(a,e,i)}:{done:!1}})),v=m[0],b=m[1];i(String.prototype,t,v),n(RegExp.prototype,p,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}}},"28a5":function(t,e,a){"use strict";var i=a("aae3"),n=a("cb7c"),s=a("ebd6"),r=a("0390"),o=a("9def"),l=a("5f1b"),c=a("520a"),u=a("79e5"),d=Math.min,p=[].push,f="split",g="length",h="lastIndex",m=4294967295,v=!u((function(){RegExp(m,"y")}));a("214f")("split",2,(function(t,e,a,u){var b;return b="c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[g]||2!="ab"[f](/(?:ab)*/)[g]||4!="."[f](/(.?)(.?)/)[g]||"."[f](/()()/)[g]>1||""[f](/.?/)[g]?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!i(t))return a.call(n,t,e);var s,r,o,l=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,f=void 0===e?m:e>>>0,v=new RegExp(t.source,u+"g");while(s=c.call(v,n)){if(r=v[h],r>d&&(l.push(n.slice(d,s.index)),s[g]>1&&s.index<n[g]&&p.apply(l,s.slice(1)),o=s[0][g],d=r,l[g]>=f))break;v[h]===s.index&&v[h]++}return d===n[g]?!o&&v.test("")||l.push(""):l.push(n.slice(d)),l[g]>f?l.slice(0,f):l}:"0"[f](void 0,0)[g]?function(t,e){return void 0===t&&0===e?[]:a.call(this,t,e)}:a,[function(a,i){var n=t(this),s=void 0==a?void 0:a[e];return void 0!==s?s.call(a,n,i):b.call(String(n),a,i)},function(t,e){var i=u(b,t,this,e,b!==a);if(i.done)return i.value;var c=n(t),p=String(this),f=s(c,RegExp),g=c.unicode,h=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(v?"y":"g"),_=new f(v?c:"^(?:"+c.source+")",h),y=void 0===e?m:e>>>0;if(0===y)return[];if(0===p.length)return null===l(_,p)?[p]:[];var x=0,w=0,k=[];while(w<p.length){_.lastIndex=v?w:0;var S,L=l(_,v?p:p.slice(w));if(null===L||(S=d(o(_.lastIndex+(v?0:w)),p.length))===x)w=r(p,w,g);else{if(k.push(p.slice(x,w)),k.length===y)return k;for(var I=1;I<=L.length-1;I++)if(k.push(L[I]),k.length===y)return k;w=x=S}}return k.push(p.slice(x)),k}]}))},"2cfc":function(t,e,a){},"34b8":function(t,e,a){"use strict";a.d(e,"e",(function(){return n})),a.d(e,"a",(function(){return s})),a.d(e,"f",(function(){return r})),a.d(e,"c",(function(){return o})),a.d(e,"d",(function(){return l})),a.d(e,"b",(function(){return c})),a.d(e,"g",(function(){return u}));var i=a("b775");function n(t){return Object(i["a"])({url:"/pictureGroup",method:"get",params:t})}function s(t){return Object(i["a"])({url:"/pictureGroup",method:"post",data:t})}function r(t){return Object(i["a"])({url:"/pictureGroup/"+t.id,method:"put",data:t})}function o(t){return Object(i["a"])({url:"/pictureGroup/"+t.id,method:"delete",data:t})}function l(t){return Object(i["a"])({url:"/picture/"+t.id,method:"get",params:t})}function c(t){return Object(i["a"])({url:"/merchantGoodsPicture/"+t.id,method:"delete",data:t})}function u(t){return Object(i["a"])({url:"/merchantGoodsPicture",method:"post",data:t})}},3846:function(t,e,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},"3a64":function(t,e,a){"use strict";var i=a("c238"),n=a.n(i);n.a},"504c":function(t,e,a){var i=a("9e1e"),n=a("0d58"),s=a("6821"),r=a("52a7").f;t.exports=function(t){return function(e){var a,o=s(e),l=n(o),c=l.length,u=0,d=[];while(c>u)a=l[u++],i&&!r.call(o,a)||d.push(t?[a,o[a]]:o[a]);return d}}},"520a":function(t,e,a){"use strict";var i=a("0bfb"),n=RegExp.prototype.exec,s=String.prototype.replace,r=n,o="lastIndex",l=function(){var t=/a/,e=/b*/g;return n.call(t,"a"),n.call(e,"a"),0!==t[o]||0!==e[o]}(),c=void 0!==/()??/.exec("")[1],u=l||c;u&&(r=function(t){var e,a,r,u,d=this;return c&&(a=new RegExp("^"+d.source+"$(?!\\s)",i.call(d))),l&&(e=d[o]),r=n.call(d,t),l&&r&&(d[o]=d.global?r.index+r[0].length:e),c&&r&&r.length>1&&s.call(r[0],a,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(r[u]=void 0)})),r}),t.exports=r},"5f1b":function(t,e,a){"use strict";var i=a("23c6"),n=RegExp.prototype.exec;t.exports=function(t,e){var a=t.exec;if("function"===typeof a){var s=a.call(t,e);if("object"!==typeof s)throw new TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},"6b54":function(t,e,a){"use strict";a("3846");var i=a("cb7c"),n=a("0bfb"),s=a("9e1e"),r="toString",o=/./[r],l=function(t){a("2aba")(RegExp.prototype,r,t,!0)};a("79e5")((function(){return"/a/b"!=o.call({source:"a",flags:"b"})}))?l((function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!s&&t instanceof RegExp?n.call(t):void 0)})):o.name!=r&&l((function(){return o.call(this)}))},"750f":function(t,e,a){"use strict";var i=a("2cfc"),n=a.n(i);n.a},"79cb":function(t,e,a){"use strict";var i=a("f556"),n=a.n(i);n.a},8615:function(t,e,a){var i=a("5ca1"),n=a("504c")(!1);i(i.S,"Object",{values:function(t){return n(t)}})},a481:function(t,e,a){"use strict";var i=a("cb7c"),n=a("4bf8"),s=a("9def"),r=a("4588"),o=a("0390"),l=a("5f1b"),c=Math.max,u=Math.min,d=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g,g=function(t){return void 0===t?t:String(t)};a("214f")("replace",2,(function(t,e,a,h){return[function(i,n){var s=t(this),r=void 0==i?void 0:i[e];return void 0!==r?r.call(i,s,n):a.call(String(s),i,n)},function(t,e){var n=h(a,t,this,e);if(n.done)return n.value;var d=i(t),p=String(this),f="function"===typeof e;f||(e=String(e));var v=d.global;if(v){var b=d.unicode;d.lastIndex=0}var _=[];while(1){var y=l(d,p);if(null===y)break;if(_.push(y),!v)break;var x=String(y[0]);""===x&&(d.lastIndex=o(p,s(d.lastIndex),b))}for(var w="",k=0,S=0;S<_.length;S++){y=_[S];for(var L=String(y[0]),I=c(u(r(y.index),p.length),0),P=[],G=1;G<y.length;G++)P.push(g(y[G]));var $=y.groups;if(f){var C=[L].concat(P,I,p);void 0!==$&&C.push($);var z=String(e.apply(void 0,C))}else z=m(L,p,I,P,$,e);I>=k&&(w+=p.slice(k,I)+z,k=I+L.length)}return w+p.slice(k)}];function m(t,e,i,s,r,o){var l=i+t.length,c=s.length,u=f;return void 0!==r&&(r=n(r),u=p),a.call(o,u,(function(a,n){var o;switch(n.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(l);case"<":o=r[n.slice(1,-1)];break;default:var u=+n;if(0===u)return a;if(u>c){var p=d(u/10);return 0===p?a:p<=c?void 0===s[p-1]?n.charAt(1):s[p-1]+n.charAt(1):a}o=s[u-1]}return void 0===o?"":o}))}}))},aae3:function(t,e,a){var i=a("d3f4"),n=a("2d95"),s=a("2b4c")("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==n(t))}},b0c5:function(t,e,a){"use strict";var i=a("520a");a("5ca1")({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},b650d:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"live-style"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"创建直播间",name:"first"}},[a("crl")],1),t._v(" "),a("el-tab-pane",{attrs:{label:"同步直播间",name:"second"}},["second"==t.activeName?a("syn"):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"添加商品",name:"third"}},["third"==t.activeName?a("exa"):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"商品列表",name:"fourth"}},["fourth"==t.activeName?a("gsl"):t._e()],1)],1)],1)},n=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"employee-manage-container"},[a("el-row",{staticClass:"employee-manage-row"},[a("el-col",{staticClass:"employee-manage-row-col",staticStyle:{"text-align":"left","padding-left":"15px"},attrs:{span:14}},[a("el-button",{staticStyle:{padding:"8px 30px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.getList("wx")}}},[t._v("获取直播间")]),t._v(" "),a("div",{staticClass:"divtext"},[t._v("请先到小程序公众平台添加直播间，商品需要提前添加给微信审核")])],1)],1),t._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,stripe:""}},[a("el-table-column",{attrs:{prop:"roomid",label:"直播间ID",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"标题",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"封面",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("l-pic",{attrs:{picurl:t.row.cover_img,pickey:t.row.id,picdata:t.row,picmargin:"0",size:{width:30,height:30},ischecked:!1,disdel:!1}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"分享图",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("l-pic",{attrs:{picurl:t.row.share_img,pickey:t.row.id,picdata:t.row,picmargin:"0",size:{width:30,height:30},ischecked:!1,disdel:!1}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"anchor_name",label:"昵称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"头像",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{display:"flex","justify-content":"center"}},[""!==e.row.avatar?a("div",[a("l-pic",{attrs:{picurl:e.row.avatar,size:{width:40,height:40},disdel:!1,disview:!1}})],1):t._e(),t._v(" "),a("div",[a("el-button",{staticClass:"action-button",attrs:{type:"text"},on:{click:function(a){return t.openMainPicPanel(e.row)}}},[a("i",{staticClass:"el-icon-edit"})])],1)])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"开播开始时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t._f("comm")(e.row.start_time)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"开播结束时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(t._f("comm")(e.row.end_time)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"排序",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("el-input",{attrs:{size:"mini"},on:{change:function(a){return t.changeSort(e.row)}},model:{value:e.row.sort,callback:function(a){t.$set(e.row,"sort",a)},expression:"scope.row.sort"}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"详情页显示",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-color":"#13ce66","active-value":"1","inactive-value":"0"},on:{change:function(a){return t.changeStatus(e.row)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.openImportGoods(e.row)}}},[t._v("导入商品")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.stration(e.row)}}},[t._v("商品管理")])]}}])})],1)],1),t._v(" "),a("el-dialog",{attrs:{visible:t.isShow,title:"导入商品","modal-append-to-body":!1,modal:!1},on:{"update:visible":function(e){t.isShow=e}}},[a("div",[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入标题或商品ID",size:"small"},model:{value:t.search_name,callback:function(e){t.search_name=e},expression:"search_name"}}),t._v(" "),a("el-button",{staticClass:"sec_bun",attrs:{type:"primary",size:"small",plain:""},on:{click:t.searchdGoods}},[t._v("搜索")])],1),t._v(" "),a("div",[a("el-table",{ref:"goodsTable",staticStyle:{width:"100%"},attrs:{data:t.goodsList,stripe:""},on:{select:t.select,"select-all":t.selectAll}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goodsId",label:"商品ID",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"主图",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[""!==e.row.coverImgUrl?a("div",[a("l-pic",{attrs:{picurl:e.row.coverImgUrl,size:{width:40,height:40},disdel:!1,disview:!1}})],1):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"商品标题",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price2",label:"现价",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"原价",align:"center"}})],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"15px 15px"}},[a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"total, prev, pager, next, jumper",total:t.dcount,"page-size":t.limit,"current-page":t.page},on:{"size-change":t.dchangePage,"current-change":t.dchangePage}})],1),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{staticStyle:{padding:"8px 30px","margin-top":"25px"},attrs:{type:"primary",size:"small"},on:{click:t.submitGoods}},[t._v("提 交")])],1)]),t._v(" "),a("el-dialog",{attrs:{visible:t.isStra,title:"商品管理","modal-append-to-body":!1,modal:!1},on:{"update:visible":function(e){t.isStra=e}}},[a("div",[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入标题或商品ID",size:"small"},model:{value:t.search_gname,callback:function(e){t.search_gname=e},expression:"search_gname"}}),t._v(" "),a("el-button",{staticClass:"sec_bun",attrs:{type:"primary",size:"small",plain:""},on:{click:t.search}},[t._v("搜索")])],1),t._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.goodsgList,stripe:""}},[a("el-table-column",{attrs:{label:"主图",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[""!==e.row.cover_img?a("div",[a("l-pic",{attrs:{picurl:e.row.cover_img,size:{width:40,height:40},disdel:!1,disview:!1}})],1):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"商品标题",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price2",label:"现价",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#FF4A39"}},[t._v(t._s(e.row.price2))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"原价",align:"center"}})],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"15px 15px"}},[a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"total, prev, pager, next, jumper",total:t.goodsgList.length,"page-size":30,"current-page":t.page1},on:{"size-change":t.changePage,"current-change":t.changePage}})],1)]),t._v(" "),a("Modal",{attrs:{width:"1128","footer-hide":!0,zIndex:99999},model:{value:t.disPicPanel,callback:function(e){t.disPicPanel=e},expression:"disPicPanel"}},[t.disPicPanel?a("photo-album",{attrs:{maxcount:t.maxPicCount},on:{selectPicData:t.getPicData}}):t._e()],1)],1)},r=[],o=(a("55dd"),a("b775"));function l(t){return Object(o["a"])({url:"/merchantLive",method:"get",params:t})}function c(t){var e=t.id;return delete t.id,Object(o["a"])({url:"/merchantLive/"+e,method:"put",data:t})}function u(t){return Object(o["a"])({url:"/merchantLive",method:"post",data:t})}function d(t){return Object(o["a"])({url:"/merchantLiveImport",method:"post",data:t})}function p(t){return Object(o["a"])({url:"/merchantLiveGoods",method:"get",params:t})}function f(t){return Object(o["a"])({url:"/merchantLiveChoose",method:"get",params:t})}function g(t){return Object(o["a"])({url:"/merchantLiveGoods",method:"post",data:t})}function h(t){var e=t.id;return delete t.id,Object(o["a"])({url:"/merchantLiveGoods/"+e,method:"put",data:t})}function m(t){var e=t.id;return delete t.id,Object(o["a"])({url:"/merchantLiveGoods/"+e,method:"delete",data:t})}var v=a("a436"),b=a("334a"),_=a("bd16"),y={name:"liveBroadcast-manage",components:{LPic:b["a"],PhotoAlbum:v["a"]},data:function(){return{headId:"",maxPicCount:1,disPicPanel:!1,mainPicList:[],page:1,page1:1,count:1,dcount:1,limit:10,isShow:!1,isStra:!1,search_name:"",search_gname:"",list:[],goodsList:[],goodsgList:[],selectionListDurability:[],roomId:""}},filters:{comm:function(t){return Object(_["a"])(t)}},mounted:function(){this.getList("redis")},methods:{openImportGoods:function(t){this.roomId=t.roomid,this.isShow=!0,this.getLiveGoods()},getLiveGoods:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,status:2,page:this.page,limit:this.limit,searchName:this.search_name};p(e).then((function(e){200===e.status&&(t.goodsList=e.data,t.dcount=parseInt(e.count))})).then((function(){if(t.selectionListDurability&&t.selectionListDurability.length>0)for(var e=0;e<t.goodsList.length;e++)for(var a=0;a<t.selectionListDurability.length;a++)t.goodsList[e].goodsId===t.selectionListDurability[a].goodsId&&t.$refs.goodsTable.toggleRowSelection(t.goodsList[e],!0)}))},stration:function(t){this.isStra=!0,this.goodsgList=t.goods},cancelGoods:function(t){},searchdGoods:function(){this.getLiveGoods()},search:function(){},select:function(t,e){var a=!1;if(t.length>0)for(var i=0;i<t.length;i++)if(t[i].goodsId===e.goodsId){a=!0;break}if(a)this.selectionListDurability.push(e);else for(var n=0;n<this.selectionListDurability.length;n++)this.selectionListDurability[n].goodsId===e.goodsId&&this.selectionListDurability.splice(n,1)},selectAll:function(t,e){this.selectionListDurability=t},submitGoods:function(){for(var t=this,e=[],a=0;a<this.selectionListDurability.length;a++)e.push(this.selectionListDurability[a].goodsId);var i={ids:e,roomid:this.roomId};d(i).then((function(e){200===e.status&&(t.$message.success("导入成功！"),t.isShow=!1,t.getList("wx"),t.selectionListDurability=[])}))},dchangePage:function(t){this.page=t,this.getLiveGoods()},changePage:function(t){this.parge1=t},changeStatus:function(t){var e=this,a={id:t.roomid,status:t.status};c(a).then((function(t){200===t.status?(e.$message.success("修改成功！"),e.getList("redis")):e.$message.error(t.message)}))},getList:function(t){var e=this;l({type:t}).then((function(t){200===t.status?e.list=t.data:204===t.status?e.list=[]:e.$message.error(t.message)}))},openMainPicPanel:function(t){this.headId=t.roomid,this.maxPicCount>0?this.disPicPanel=!0:this.$message.warning("最多可选择1张图片，已选择".concat(1-this.maxPicCount,"张,不可选择"))},getPicData:function(t){var e=this,a={avatar:t[0].pic_url,id:this.headId};c(a).then((function(t){200===t.status?(e.$message.success("修改成功！"),e.getList("redis"),e.disPicPanel=!1):(e.$message.error(t.message),e.disPicPanel=!1)}))},changeSort:function(t){var e=this;if(isNaN(t.sort)||t.sort<0||t.sort>999)this.$message.warning("排序请填写数字并且范围为0~999");else{var a={id:t.roomid,sort:t.sort};c(a).then((function(t){200===t.status?(e.$message.success("修改成功！"),e.getList("redis")):e.$message.error(t.message)}))}}}},x=y,w=(a("750f"),a("2877")),k=Object(w["a"])(x,s,r,!1,null,"7daddd4a",null),S=k.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"crl"},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"直播间名称"}},[a("el-input",{staticStyle:{width:"25%",height:"40px","line-height":"40px"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),a("div",{staticClass:"divtext"},[t._v("直播间名字，最短3个汉字，最长17个汉字")])],1),t._v(" "),a("el-form-item",{attrs:{label:"开播时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期"},model:{value:t.form.startTime,callback:function(e){t.$set(t.form,"startTime",e)},expression:"form.startTime"}}),t._v(" "),a("div",{staticClass:"divtext"},[t._v("直播计划开始时间（开播时间需要在当前时间的10分钟后 并且 开始时间不能在 6 个月后）")])],1),t._v(" "),a("el-form-item",{attrs:{label:"结束时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"结束时间"},model:{value:t.form.endTime,callback:function(e){t.$set(t.form,"endTime",e)},expression:"form.endTime"}}),t._v(" "),a("div",{staticClass:"divtext"},[t._v("直播计划结束时间（开播时间和结束时间间隔不得短于30分钟，不得超过24小时）")])],1),t._v(" "),a("el-form-item",{attrs:{label:"主播昵称"}},[a("el-input",{staticStyle:{width:"25%",height:"40px","line-height":"40px"},model:{value:t.form.anchorName,callback:function(e){t.$set(t.form,"anchorName",e)},expression:"form.anchorName"}}),t._v(" "),a("div",{staticClass:"divtext"},[t._v("主播昵称，最短2个汉字，最长15个汉字")])],1),t._v(" "),a("el-form-item",{attrs:{label:"主播微信号"}},[a("el-input",{staticStyle:{width:"25%",height:"40px","line-height":"40px"},model:{value:t.form.anchorWechat,callback:function(e){t.$set(t.form,"anchorWechat",e)},expression:"form.anchorWechat"}}),t._v(" "),a("div",{staticClass:"divtext"},[t._v("微信号是：微信-我-昵称下面的那个英文帐号，不是手机号。如未实名认证，需先往“小程序直播”小程序进行实名验证")])],1),t._v(" "),a("el-form-item",{attrs:{label:"直播方式"}},[a("el-radio-group",{model:{value:t.form.screenType,callback:function(e){t.$set(t.form,"screenType",e)},expression:"form.screenType"}},[a("el-radio",{attrs:{label:"0"}},[t._v("竖屏")]),t._v(" "),a("el-radio",{attrs:{label:"1"}},[t._v("横屏")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"直播类型"}},[a("el-radio-group",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[a("el-radio",{attrs:{label:"0"}},[t._v("手机类型")]),t._v(" "),a("el-radio",{attrs:{label:"1"}},[t._v("推流")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"点赞"}},[a("el-switch",{attrs:{"active-color":"#13ce66","active-value":"1","inactive-value":"0"},model:{value:t.form.closeLike,callback:function(e){t.$set(t.form,"closeLike",e)},expression:"form.closeLike"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"评论"}},[a("el-switch",{attrs:{"active-color":"#13ce66","active-value":"1","inactive-value":"0"},model:{value:t.form.closeComment,callback:function(e){t.$set(t.form,"closeComment",e)},expression:"form.closeComment"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品货架"}},[a("el-switch",{attrs:{"active-color":"#13ce66","active-value":"1","inactive-value":"0"},model:{value:t.form.closeGoods,callback:function(e){t.$set(t.form,"closeGoods",e)},expression:"form.closeGoods"}})],1),t._v(" "),a("el-form-item",{staticStyle:{width:"500px"},attrs:{label:"背景图"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"",limit:1,"http-request":t.bgRequest,"file-list":t.fileList,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1),t._v(" "),a("div",{staticClass:"divtext"},[t._v("直播间背景图，图片规则：建议像素1080*1920，大小不超过2M")])],1),t._v(" "),a("el-form-item",{ref:"regeditForm",staticStyle:{width:"500px"},attrs:{label:"分享图"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"",limit:1,"http-request":t.seRequest,"file-list":t.fileList,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1),t._v(" "),a("div",{staticClass:"divtext"},[t._v("直播间分享图，图片规则：建议像素800*640，大小不超过1M")])],1),t._v(" "),a("div",{staticStyle:{"margin-left":"60px"}},[a("el-button",{staticStyle:{padding:"10px 30px","font-weight":"600"},attrs:{type:"primary"},on:{click:t.submit}},[t._v("提 交 创 建")])],1)],1)],1)},I=[],P=(a("7f7f"),a("bc3a")),G=a.n(P),$=(a("4328"),{components:{LPic:b["a"],PhotoAlbum:v["a"]},data:function(){return{seId:"",bgId:"",fileList:[],form:{}}},mounted:function(){},methods:{seRequest:function(t){var e=this,a=t.file,i=new FormData;i.append("file",a);var n={headers:{"Content-Type":"multipart/form-data"}};G.a.post("http://ceshi.juanpao.cn/api/web/index.php/merchantLiveUpload",i,n).then((function(t){200==t.status&&(console.log(t.data.data.media_id),e.seId=t.data.data.media_id)}))},bgRequest:function(t){var e=this,a=t.file,i=new FormData;i.append("file",a);var n={headers:{"Content-Type":"multipart/form-data"}};G.a.post("http://ceshi.juanpao.cn/api/web/index.php/merchantLiveUpload",i,n).then((function(t){200==t.status&&(console.log(t.data.data.media_id),e.bgId=t.data.data.media_id)}))},submit:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,name:this.form.name,startTime:parseInt(this.form.startTime/1e3),endTime:parseInt(this.form.endTime/1e3),anchorName:this.form.anchorName,anchorWechat:this.form.anchorWechat,type:this.form.type,screenType:this.form.screenType,closeLike:this.form.closeLike,closeGoods:this.form.closeGoods,closeComment:this.form.closeComment,shareImg:this.seId,coverImg:this.bgId};u(e).then((function(e){200==e.status&&(t.$message.success("创建成功!"),t.form={},t.seId="",t.bgId="",t.fileList=[])}))}}}),C=$,z=(a("3a64"),Object(w["a"])(C,L,I,!1,null,"b49b09b6",null)),j=z.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{margin:"10px"}},[a("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:t.selGoods}},[t._v("选择商品")])],1),t._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.subGoodslist,stripe:""}},[a("el-table-column",{attrs:{prop:"id",label:"ID",align:"center",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{label:"主图",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("l-pic",{attrs:{picurl:t.row.pic_urls.split(";")[0],size:{width:40,height:40},disdel:!1,disview:!1}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"标题",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"现价",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{size:"mini"},on:{change:function(a){return t.changeOprice(e.row.line_price)}},model:{value:e.row.line_price,callback:function(a){t.$set(e.row,"line_price",a)},expression:"scope.row.line_price"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"原价",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{size:"mini"},on:{change:function(a){return t.changePprice(e.row.price)}},model:{value:e.row.price,callback:function(a){t.$set(e.row,"price",a)},expression:"scope.row.price"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"route",label:"路径",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v("pages/goodsItem/goodsItem/goodsItem?id="+t._s(e.row.id))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(a){return t.edit(e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("el-dialog",{attrs:{visible:t.isShow,title:"选择商品","modal-append-to-body":!1,modal:!1},on:{"update:visible":function(e){t.isShow=e}}},[a("div",[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入标题或商品ID",size:"small"},on:{change:t.search},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}}),t._v(" "),a("el-button",{staticClass:"sec_bun",attrs:{type:"primary",size:"small",plain:""},on:{click:t.search}},[t._v("搜索")])],1),t._v(" "),a("div",[a("el-table",{ref:"goodsTable",staticStyle:{width:"100%"},attrs:{data:t.goodsList,stripe:""}},[a("el-table-column",{attrs:{prop:"id",label:"商品ID",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"主图",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[""!==e.row.pic_urls?a("div",[a("l-pic",{attrs:{picurl:e.row.pic_urls,size:{width:40,height:40},disdel:!1,disview:!1}})],1):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"商品标题",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"价格",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(a){return t.addGoods(e.row)}}},[t._v("选择")])]}}])})],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"15px 15px"}},[a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"total, prev, pager, next, jumper",total:t.count,"page-size":10,"current-page":t.page},on:{"size-change":t.changePage,"current-change":t.changePage}})],1)]),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{staticStyle:{padding:"8px 30px","margin-top":"25px"},attrs:{type:"success",size:"small"},on:{click:t.submitProp}},[t._v("提交审核")])],1)],1)},O=[],E={components:{LPic:b["a"]},data:function(){return{page:1,count:1,isShow:!1,searchName:"",goodsList:[],subGoodslist:[],selList:[],price:"",price2:""}},mounted:function(){},methods:{selGoods:function(){this.isShow=!0,this.getLiveChoose()},getLiveChoose:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,status:2,page:this.page,limit:10,searchName:this.searchName};f(e).then((function(e){200===e.status&&(t.goodsList=e.data,t.count=parseInt(e.count))}))},search:function(){this.getLiveChoose()},addGoods:function(t){console.log(t),this.subGoodslist.length<=0?this.subGoodslist.push(t):this.$message.error("每次只能提交审核一个商品!"),this.isShow=!1},changePage:function(t){this.page=t,this.getLiveChoose()},changeOprice:function(t){this.price2=t},changePprice:function(t){this.price=t},edit:function(t){for(var e=0;e<this.subGoodslist.length;e++)this.subGoodslist[e].id===t.id&&this.subGoodslist.splice(e,1);for(var a=0;a<this.selList.length;a++)this.selList[a].id===t.id&&this.selList.splice(a,1)},submitProp:function(){var t=this,e={id:this.subGoodslist[0].id,img:this.subGoodslist[0].pic_urls,name:this.subGoodslist[0].name,price:this.subGoodslist[0].price,price2:this.subGoodslist[0].line_price,url:"pages/goodsItem/goodsItem/goodsItem?id="+this.subGoodslist[0].id};g(e).then((function(e){200===e.status?(t.$message.success("已提交审核!"),t.subGoodslist=[]):t.$message.error(e.message)}))}}},T=E,N=Object(w["a"])(T,D,O,!1,null,"6559ab5c",null),R=N.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{"margin-top":"15px"}},[a("el-select",{staticStyle:{width:"calc(15% - 8px)","margin-left":"10px"},attrs:{placeholder:"选择商品状态",size:"small"},on:{change:t.selValue},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.goodGroupGroupingList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.goodsList,stripe:""}},[a("el-table-column",{attrs:{prop:"goodsId",label:"ID",align:"center",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{label:"主图",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[""!==e.row.coverImgUrl?a("div",[a("l-pic",{attrs:{picurl:e.row.coverImgUrl,size:{width:40,height:40},disdel:!1,disview:!1}})],1):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"标题",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"现价",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{size:"mini"},on:{change:function(a){return t.changeOprice(e.row)}},model:{value:e.row.price2,callback:function(a){t.$set(e.row,"price2",a)},expression:"scope.row.price2"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"原价",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{size:"mini"},on:{change:function(a){return t.changePprice(e.row)}},model:{value:e.row.price,callback:function(a){t.$set(e.row,"price",a)},expression:"scope.row.price"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"url",label:"路径",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"state",label:"状态",align:"center"}},[0==t.value?a("el-tag",[t._v("未审核")]):t._e(),t._v(" "),1==t.value?a("el-tag",{attrs:{type:"success"}},[t._v("审核中")]):t._e(),t._v(" "),2==t.value?a("el-tag",{attrs:{type:"warning"}},[t._v("审核通过")]):t._e(),t._v(" "),3==t.value?a("el-tag",{attrs:{type:"danger"}},[t._v("审核驳回")]):t._e()],1),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger",plain:""},on:{click:function(a){return t.edit(e.row)}}},[t._v("删除")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){return t.update(e.row)}}},[t._v("提交更新")])]}}])})],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"15px 15px"}},[a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"total, prev, pager, next, jumper",total:t.count,"page-size":t.limit,"current-page":t.page},on:{"size-change":t.changePage,"current-change":t.changePage}})],1)])},M=[],F={components:{LPic:b["a"]},data:function(){return{count:1,page:1,limit:10,goodGroupGroupingList:[{value:0,label:"未审核"},{value:1,label:"审核中"},{value:2,label:"审核通过"},{value:3,label:"审核驳回"}],goodsList:[],value:2}},mounted:function(){this.getLiveGoods()},methods:{getLiveGoods:function(){var t=this,e={page:this.page,limit:this.limit,key:this.$store.state.app.activeApp.saa_key,status:this.value};p(e).then((function(e){200===e.status?(t.goodsList=e.data,t.count=parseInt(e.count)):t.count=0}))},selValue:function(t){this.getLiveGoods()},update:function(t){var e=this,a={id:t.goodsId,price:t.price,price2:t.price2};h(a).then((function(t){200===t.status&&(e.$message.success("提交成功!"),e.getLiveGoods())}))},edit:function(t){var e=this,a={id:t.goodsId,goods_id:t.goodsId};console.log(a),m(a).then((function(t){200==t.status?(e.$message.success("删除成功!"),e.getLiveGoods()):e.$message.error(t.message)}))},changeOprice:function(){},changePprice:function(){},changePage:function(t){this.page=t,this.getLiveGoods()}}},q=F,U=Object(w["a"])(q,A,M,!1,null,null,null),W=U.exports,H={components:{syn:S,crl:j,exa:R,gsl:W},data:function(){return{activeName:"second"}},methods:{handleClick:function(t,e){console.log(t,e)}}},J=H,V=(a("79cb"),Object(w["a"])(J,i,n,!1,null,"1d967cec",null));e["default"]=V.exports},bd16:function(t,e,a){"use strict";function i(t){var e=new Date(1e3*parseInt(t)),a=e.getFullYear()+"-",i=e.getMonth()+1<10?"0"+(e.getMonth()+1)+"-":e.getMonth()+1+"-",n=e.getDate()<10?"0"+e.getDate()+" ":e.getDate()+" ",s=e.getHours()<10?"0"+e.getHours()+":":e.getHours()+":",r=e.getMinutes()<10?"0"+e.getMinutes()+":":e.getMinutes()+":",o=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();return a+i+n+s+r+o}a.d(e,"a",(function(){return i}))},c238:function(t,e,a){},ed08:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("28a5"),a("a481"),a("6b54");var i=a("53ca");function n(t,e){if(0===arguments.length)return null;var a,n=e||"{y}-{m}-{d} {h}:{i}:{s}";"object"===Object(i["a"])(t)?a=t:("string"===typeof t&&/^[0-9]+$/.test(t)&&(t=parseInt(t)),"number"===typeof t&&10===t.toString().length&&(t*=1e3),a=new Date(t));var s={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()},r=n.replace(/{(y|m|d|h|i|s|a)+}/g,(function(t,e){var a=s[e];return"a"===e?["日","一","二","三","四","五","六"][a]:(t.length>0&&a<10&&(a="0"+a),a||0)}));return r}},f556:function(t,e,a){}}]);