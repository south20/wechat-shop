(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-451c0f83"],{"33d3":function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));const n=t=>Object.prototype.toString.call(t).slice(8,-1)},"4fab":function(t,e,a){"use strict";var n={"bm-map":["click","dblclick","rightclick","rightdblclick","maptypechange","mousemove","mouseover","mouseout","movestart","moving","moveend","zoomstart","zoomend","addoverlay","addcontrol","removecontrol","removeoverlay","clearoverlays","dragstart","dragging","dragend","addtilelayer","removetilelayer","load","resize","hotspotclick","hotspotover","hotspotout","tilesloaded","touchstart","touchmove","touchend","longpress"],"bm-geolocation":["locationSuccess","locationError"],"bm-overview-map":["viewchanged","viewchanging"],"bm-marker":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","infowindowclose","infowindowopen","dragstart","dragging","dragend","rightclick"],"bm-polyline":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-polygon":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-circle":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-label":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","rightclick"],"bm-info-window":["close","open","maximize","restore","clickclose"],"bm-ground":["click","dblclick"],"bm-autocomplete":["onconfirm","onhighlight"],"bm-point-collection":["click","mouseover","mouseout"]};e["a"]=function(t,e){const a=e||n[this.$options.name];a&&a.forEach(e=>{const a="on"===e.slice(0,2),n=a?e.slice(2):e,i=this.$listeners[n];i&&t.addEventListener(e,i.fns)})}},"58cf":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"customers-head-container"},[a("div",{staticClass:"customers-head-top"},[a("el-row",{staticStyle:{height:"32px","line-height":"32px"}},[a("el-col",{attrs:{span:10}},[a("div",{staticClass:"customers-head-top-col",staticStyle:{"padding-left":"0"}},[a("span",{staticStyle:{padding:"0 5px"}},[t._v("时间范围")]),t._v(" "),a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetimerange","picker-options":t.pickerOptions,"range-separator":"至","start-placeholde":"开始时间","end-placeholde":"结束时间",size:"small"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1)]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"customers-head-top-col"},[a("span",{staticStyle:{padding:"0 5px"}},[t._v("关键词")]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入昵称、真实姓名或手机号",size:"small"},model:{value:t.tuanParams.searchName,callback:function(e){t.$set(t.tuanParams,"searchName",e)},expression:"tuanParams.searchName"}})],1)]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"customers-head-top-col"},[a("span",{staticStyle:{padding:"0 5px"}},[t._v("城市")]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入城市",size:"small"},model:{value:t.tuanParams.city,callback:function(e){t.$set(t.tuanParams,"city",e)},expression:"tuanParams.city"}})],1)]),t._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.search}},[t._v("搜索")])],1)],1)],1),t._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.TuanList,stripe:""}},[a("el-table-column",{attrs:{prop:"uid",width:"80",label:"团长ID",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{width:"60",label:"头像",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("l-pic",{attrs:{picurl:t.row.avatar,size:{width:40,height:40},disdel:!1,disview:!1}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"nickname",label:"昵称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"团长信息",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("div",[t._v(t._s(e.row.realname))]),t._v(" "),a("div",[t._v(t._s(e.row.phone))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"level_name",width:"60",label:"等级",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.level_name?e.row.level_name:"")+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"所属城市",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("div",[t._v(t._s(e.row.province))]),t._v(" "),a("div",[t._v(t._s(e.row.city))]),t._v(" "),a("div",[t._v(t._s(e.row.area))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{width:"200",label:"自提点信息"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("div",[a("span",[t._v("小区：")]),t._v(t._s(e.row.area_name))]),t._v(" "),a("div",[a("span",[t._v("自提点：")]),t._v(t._s(e.row.addr))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"tuan_express_fee",label:"团长配送费",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"number",label:"总订单数",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{width:"160",label:"佣金"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("div",[a("span",[t._v("总消费佣金：")]),t._v(t._s(null===e.row.sum_money?0:e.row.sum_money))]),t._v(" "),a("div",[a("span",[t._v("待结算佣金：")]),t._v(t._s(null===e.row.on_money?0:e.row.on_money))]),t._v(" "),a("div",[a("span",[t._v("待提现佣金：")]),t._v(t._s(null===e.row.user_balance?0:e.row.user_balance))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{on:{click:function(a){return t.update_status(e.row)}}},[a("a",{attrs:{href:"javascript: void(0)"}},["0"===e.row.state?a("el-tag",{attrs:{effect:"dark",size:"small",type:"success"}},[t._v("正常")]):t._e(),t._v(" "),"1"===e.row.state?a("el-tag",{attrs:{effect:"dark",size:"small",type:"danger"}},[t._v("冻结")]):t._e(),t._v(" "),"2"===e.row.state?a("el-tag",{attrs:{effect:"dark",size:"small",type:"info"}},[t._v("关闭")]):t._e(),t._v("\n              操作\n            ")],1)])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("el-button",{staticStyle:{display:"inline-block"},attrs:{type:"text"},on:{click:function(a){return t.addGoods(e.row)}}},[t._v("绑定商品")]),t._v(" "),a("el-button",{staticStyle:{display:"inline-block"},attrs:{type:"text"},on:{click:function(a){return t.edit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{staticStyle:{display:"inline-block"},attrs:{type:"text"},on:{click:function(a){return t.one(e.row)}}},[t._v("一键结算")])],1)]}}])})],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"15px 15px"}},[a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"total, prev, pager, next, jumper",total:t.count,"page-size":10,"current-page":t.page},on:{"size-change":t.changePage,"current-change":t.changePage}})],1),t._v(" "),a("el-dialog",{attrs:{visible:t.disUpdateForm,width:"20%",title:"修改团长状态"},on:{"update:visible":function(e){t.disUpdateForm=e}}},[a("div",{staticStyle:{"text-align":"center","margin-top":"25px"}},[a("el-radio-group",{model:{value:t.state,callback:function(e){t.state=e},expression:"state"}},[a("el-radio",{attrs:{label:"0"}},[t._v("正常")]),t._v(" "),a("el-radio",{attrs:{label:"1"}},[t._v("冻结")]),t._v(" "),a("el-radio",{attrs:{label:"2"}},[t._v("关闭")])],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"25px"}},[a("el-button",{staticStyle:{padding:"8px 20px"},attrs:{type:"primary"},on:{click:t.state_sub}},[t._v("保 存")])],1)]),t._v(" "),a("el-dialog",{attrs:{visible:t.disWriteOff,width:"40%",title:"旗下团员"},on:{"update:visible":function(e){t.disWriteOff=e}}},[t.disWriteOff?a("write-off",{attrs:{tuanId:t.tuanId},on:{success:function(e){t.disWriteOff=!1}}}):t._e()],1),t._v(" "),a("el-dialog",{attrs:{visible:t.disAddGoods,width:"40%",title:"绑定商品"},on:{"update:visible":function(e){t.disAddGoods=e}}},[t.disAddGoods?a("add-goods",{attrs:{tuanId:t.tuanId},on:{success:function(e){t.disAddGoods=!1,t.getTuanList()}}}):t._e()],1),t._v(" "),a("el-dialog",{attrs:{visible:t.disEdit,width:"40%",title:"编辑",top:"0"},on:{"update:visible":function(e){t.disEdit=e}}},[t.disEdit?a("edit",{attrs:{tuanId:t.tuanId},on:{success:function(e){t.disEdit=!1,t.getTuanList()}}}):t._e()],1)],1)},i=[],o=a("9671"),r=a("334a"),s=a("ed08"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list}},[a("el-table-column",{attrs:{label:"图片",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("l-pic",{attrs:{picurl:t.row.avatar,size:{width:40,height:40},disdel:!1,disview:!1}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"nickname",label:"团员名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"团员手机号",align:"center"}})],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"15px 15px"}},[a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"total, prev, pager, next, jumper",total:t.count,"page-size":10,"current-page":t.page},on:{"size-change":t.changePage,"current-change":t.changePage}})],1)])},u=[],c={name:"showWriteOff",components:{LPic:r["a"]},props:{tuanId:{type:String,required:!0}},data:function(){return{page:1,count:1,list:[],selectGoods:[]}},mounted:function(){this.getTuanLeagueMemberList()},methods:{getTuanLeagueMemberList:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,page:this.page,limit:10,id:this.tuanId};Object(o["g"])(e).then((function(e){200===e.status?(t.list=e.data,t.count=parseInt(e.count)):204===e.status?(t.list=[],t.count=1):t.$message.error(e.message)}))},changePage:function(t){this.page=t,this.getTuanLeagueMemberList()}}},d=c,m=a("2877"),p=Object(m["a"])(d,l,u,!1,null,null,null),h=p.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("el-table",{ref:"goodsTable",staticStyle:{width:"100%"},attrs:{data:t.goodsList,stripe:""},on:{"selection-change":t.selectChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:"图片",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.pic_urls.split(","),(function(e,n){return""!==e?a("l-pic",{key:n,attrs:{picurl:e,size:{width:40,height:40},disdel:!1,disview:!1}}):t._e()}))}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"商品名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"价格",align:"center"}})],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"15px 15px"}},[a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"total, prev, pager, next, jumper",total:t.count,"page-size":10,"current-page":t.page},on:{"size-change":t.changePage,"current-change":t.changePage}})],1),t._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"25px"}},[a("el-button",{staticStyle:{padding:"8px 20px"},attrs:{type:"primary"},on:{click:t.submit}},[t._v("保 存")])],1)])},v=[],g=(a("7514"),a("ac6a"),a("c40e")),b={name:"addGoods",components:{LPic:r["a"]},props:{tuanId:{type:String,required:!0}},data:function(){return{page:1,count:1,goodsList:[],tuanGoodsList:{},selectGoods:[]}},watch:{tuanGoodsList:function(t){var e=this;t.goods_ids.forEach((function(t){if(""!==t){var a=e.goodsList.find((function(e){return e.id===t}));e.selectGoods.push(a),e.$refs.goodsTable.toggleRowSelection(a)}}))}},mounted:function(){this.getGoodsList()},methods:{getGoodsList:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,page:this.page,limit:10};Object(g["j"])(e).then((function(e){200===e.status?(t.goodsList=e.data,t.count=parseInt(e.count),t.getTuanGoodsList()):204===e.status?(t.goodsList=[],t.count=1):t.$message.error(e.message)}))},getTuanGoodsList:function(){var t=this,e={id:this.tuanId,key:this.$store.state.app.activeApp.saa_key};Object(o["f"])(e).then((function(e){200===e.status?t.tuanGoodsList=e.data:t.$message.error(e.message)}))},changePage:function(t){this.page=t,this.getGoodsList()},selectChange:function(t){this.selectGoods=t},submit:function(){var t=this,e={id:this.tuanId,goods_ids:[""],key:this.$store.state.app.activeApp.saa_key};this.selectGoods.forEach((function(t){e.goods_ids.push(t.id)})),Object(o["o"])(e).then((function(e){200===e.status?t.$emit("success"):t.$message.error(e.message)}))}}},_=b,y=Object(m["a"])(_,f,v,!1,null,null,null),k=y.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"tuaneditform",attrs:{model:t.tuanData,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"头像"}},[a("l-pic",{attrs:{picurl:t.tuanData.avatar,size:{width:40,height:40},disdel:!1,disview:!1}})],1),t._v(" "),a("el-form-item",{attrs:{label:"昵称"}},[a("div",[t._v(t._s(t.tuanData.nickname))])]),t._v(" "),a("el-form-item",{attrs:{label:"性别"}},[a("div",[t._v(t._s(t.tuanData.sex))])]),t._v(" "),a("el-form-item",{attrs:{label:"手机号码"}},[a("el-input",{staticStyle:{"max-width":"70%"},attrs:{placeholder:"手机号码",size:"small"},model:{value:t.tuanData.phone,callback:function(e){t.$set(t.tuanData,"phone",e)},expression:"tuanData.phone"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"真实姓名"}},[a("el-input",{staticStyle:{"max-width":"70%"},attrs:{placeholder:"真实姓名",size:"small"},model:{value:t.tuanData.realname,callback:function(e){t.$set(t.tuanData,"realname",e)},expression:"tuanData.realname"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"团员数量"}},[a("div",[t._v("未设置")])]),t._v(" "),a("el-form-item",{attrs:{label:"自提点地区"}},[a("el-cascader",{staticStyle:{width:"250px"},attrs:{options:t.options,placeholder:"请选择省市区"},on:{change:t.handleChange},model:{value:t.selectedOptions,callback:function(e){t.selectedOptions=e},expression:"selectedOptions"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"自提点小区"}},[a("el-input",{staticStyle:{"max-width":"70%"},attrs:{placeholder:"自提点小区",size:"small"},model:{value:t.tuanData.area_name,callback:function(e){t.$set(t.tuanData,"area_name",e)},expression:"tuanData.area_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"自提点地址"}},[a("el-input",{staticStyle:{"max-width":"70%"},attrs:{placeholder:"自提点小区",size:"small"},model:{value:t.tuanData.addr,callback:function(e){t.$set(t.tuanData,"addr",e)},expression:"tuanData.addr"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"自提点坐标"}},[a("el-input",{staticStyle:{"max-width":"35%"},attrs:{placeholder:"自提点坐标",size:"small"},model:{value:t.tuanData.longitude,callback:function(e){t.$set(t.tuanData,"longitude",e)},expression:"tuanData.longitude"}}),t._v(" "),a("el-input",{staticStyle:{"max-width":"35%"},attrs:{placeholder:"自提点坐标",size:"small"},model:{value:t.tuanData.latitude,callback:function(e){t.$set(t.tuanData,"latitude",e)},expression:"tuanData.latitude"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"地图定位"}},[a("baidu-map",{staticStyle:{width:"70%",height:"200px"},attrs:{ak:"6GsLWO6HaqjRb3BuCjqCHIP1tMEuMkWK",zoom:t.zoom,center:t.mapCenter},on:{click:t.getLocationPoint}})],1),t._v(" "),a("el-form-item",{attrs:{label:"注册时间"}},[a("div",[t._v(t._s(t.tuanData.format_create_time))])]),t._v(" "),a("el-form-item",{attrs:{label:"送货上门"}},[a("el-switch",{attrs:{"active-color":"#13ce66","active-value":"1","inactive-value":"0"},model:{value:t.tuanData.is_tuan_express,callback:function(e){t.$set(t.tuanData,"is_tuan_express",e)},expression:"tuanData.is_tuan_express"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"配送费"}},[a("el-input",{staticStyle:{"max-width":"70%"},attrs:{placeholder:"配送费",size:"small"},model:{value:t.tuanData.tuan_express_fee,callback:function(e){t.$set(t.tuanData,"tuan_express_fee",e)},expression:"tuanData.tuan_express_fee"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"支付宝姓名"}},[a("el-input",{staticStyle:{"max-width":"70%"},attrs:{placeholder:"支付宝",size:"small"},model:{value:t.tuanData.alipay_name,callback:function(e){t.$set(t.tuanData,"alipay_name",e)},expression:"tuanData.alipay_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"支付宝账号"}},[a("el-input",{staticStyle:{"max-width":"70%"},attrs:{placeholder:"支付宝",size:"small"},model:{value:t.tuanData.alipay_account,callback:function(e){t.$set(t.tuanData,"alipay_account",e)},expression:"tuanData.alipay_account"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"银行卡所在行"}},[a("el-input",{staticStyle:{"max-width":"70%"},attrs:{placeholder:"银行卡所在行",size:"small"},model:{value:t.tuanData.bank_card_branch,callback:function(e){t.$set(t.tuanData,"bank_card_branch",e)},expression:"tuanData.bank_card_branch"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"持卡人姓名"}},[a("el-input",{staticStyle:{"max-width":"70%"},attrs:{placeholder:"持卡人姓名",size:"small"},model:{value:t.tuanData.name_of_cardholder,callback:function(e){t.$set(t.tuanData,"name_of_cardholder",e)},expression:"tuanData.name_of_cardholder"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"卡号"}},[a("el-input",{staticStyle:{"max-width":"70%"},attrs:{placeholder:"卡号",size:"small"},model:{value:t.tuanData.bank_card_id,callback:function(e){t.$set(t.tuanData,"bank_card_id",e)},expression:"tuanData.bank_card_id"}})],1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"25px"}},[a("el-button",{staticStyle:{padding:"8px 20px"},attrs:{type:"primary"},on:{click:t.submit}},[t._v("保 存")])],1)],1)},O=[],D=a("ef6c"),S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.hasBmView?t._e():a("div",{ref:"view",staticStyle:{width:"100%",height:"100%"}}),t._v(" "),t._t("default")],2)},x=[],j=a("b66f"),T=j["a"],L=Object(m["a"])(T,S,x,!1,null,null,null),$=L.exports,P={name:"headedit",components:{LPic:r["a"],BaiduMap:$},props:{tuanId:{type:String,required:!0}},data:function(){return{options:D["regionData"],tuanData:{},selectedOptions:[],mapCenter:{lng:116.403963,lat:39.915111},zoom:15}},watch:{tuanData:function(t){t.city_code===t.area_code?this.selectedOptions=[t.province_code,t.city_code]:this.selectedOptions=[t.province_code,t.city_code,t.area_code]}},mounted:function(){this.getTuanUser()},methods:{getTuanUser:function(){var t=this,e={id:this.tuanId,key:this.$store.state.app.activeApp.saa_key};Object(o["i"])(e).then((function(e){200===e.status?(t.tuanData=e.data,t.mapCenter.lng=t.tuanData.longitude,t.mapCenter.lat=t.tuanData.latitude):t.$message.error(e.message)}))},getLocationPoint:function(t){this.tuanData.longitude=t.point.lng,this.tuanData.latitude=t.point.lat},handleChange:function(t){this.tuanData.province_code=t[0],this.tuanData.province=D["CodeToText"][t[0]],this.tuanData.city_code=t[1],this.tuanData.city=D["CodeToText"][t[1]],t[2]?(this.tuanData.area_code=t[2],this.tuanData.area=D["CodeToText"][t[2]]):(this.tuanData.area_code=t[1],this.tuanData.area=D["CodeToText"][t[1]])},submit:function(){var t=this;delete this.tuanData.format_create_time,delete this.tuanData.format_update_time,delete this.tuanData.delete_time,delete this.tuanData.check_time,delete this.tuanData.create_time,delete this.tuanData.update_time,delete this.tuanData.province,delete this.tuanData.city,delete this.tuanData.area,delete this.tuanData.money,delete this.tuanData.audit_name,delete this.tuanData.nickname,delete this.tuanData.avatar,delete this.tuanData.sex,delete this.tuanData.ali,delete this.tuanData.pay_name,delete this.tuanData.pay_realname,delete this.tuanData.pay_number,Object(o["q"])(this.tuanData).then((function(e){200===e.status?(t.$emit("success"),t.$message.success("修改成功！")):t.$message.error(e.message)}))}}},C=P,z=Object(m["a"])(C,w,O,!1,null,null,null),M=z.exports,G={name:"customershead",components:{LPic:r["a"],addGoods:k,writeOff:h,edit:M},data:function(){return{page:1,count:1,tuanId:"",tuanParams:{key:this.$store.state.app.activeApp.saa_key,type:1,is_self:1,audit_time:"",searchName:"",city:"",limit:10,page:1},state:"0",time:"",TuanList:[],disUpdateForm:!1,disWriteOff:!1,disAddGoods:!1,disAddWriteOff:!1,disShowWriteOff:!1,disEdit:!1,pickerOptions:{shortcuts:[{text:"近7天",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"近30天",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}}]}}},mounted:function(){this.getTuanList()},watch:{time:function(t){if(null!==t){var e=Object(s["a"])(t[0],"{y}-{m}-{d}"),a=Object(s["a"])(t[1],"{y}-{m}-{d}");this.tuanParams.audit_time=e+" to "+a}else this.tuanParams.audit_time=""}},methods:{one:function(t){var e=this,a={key:this.$store.state.app.activeApp.saa_key,leader_uid:t.uid};Object(o["m"])(a).then((function(t){200===t.status&&e.$message.success("结算成功!")}))},getTuanList:function(){var t=this,e={key:this.$store.state.app.activeApp.saa_key,type:1,is_self:1,limit:10,page:this.page};Object(o["j"])(e).then((function(e){200===e.status?(t.TuanList=e.data,t.count=e.count):204===e.status?(t.TuanList=[],t.count=1):t.$message.error(e.message)}))},changePage:function(t){this.page=t,this.getTuanList()},search:function(){var t=this;""===this.tuanParams.audit_time&&delete this.tuanParams.audit_time,""===this.tuanParams.searchName&&delete this.tuanParams.searchName,""===this.tuanParams.city&&delete this.tuanParams.city,Object(o["j"])(this.tuanParams).then((function(e){200===e.status?(t.TuanList=e.data,t.count=e.count):204===e.status?(t.TuanList=[],t.count=1):t.$message.error(e.message)}))},update_status:function(t){this.tuanId=t.id,this.state=t.state,this.disUpdateForm=!0},writeOff:function(t){this.tuanId=t.uid,this.disWriteOff=!0},addGoods:function(t){this.tuanId=t.id,this.disAddGoods=!0},addWriteOff:function(t){this.tuanId=t.uid,this.disAddWriteOff=!0},showWriteOff:function(t){this.tuanId=t.uid,this.disShowWriteOff=!0},delTuanUser:function(t){var e=this;this.$confirm("确定要解绑会员吗?","提示",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then((function(){var a={id:t.id,key:e.$store.state.app.activeApp.saa_key};Object(o["b"])(a).then((function(t){200===t.status?(e.$message.success("解绑成功！"),e.getTuanList()):e.$message.error(t.message)}))})).catch((function(){}))},state_sub:function(){var t=this,e={id:this.tuanId,state:this.state,key:this.$store.state.app.activeApp.saa_key};Object(o["q"])(e).then((function(e){200===e.status?(t.$message.success("修改成功！"),t.disUpdateForm=!1,t.getTuanList()):t.$message.error(e.message)}))},edit:function(t){this.tuanId=t.id,this.disEdit=!0}}},Z=G,B=(a("7a46"),Object(m["a"])(Z,n,i,!1,null,"a1992e52",null));e["default"]=B.exports},6877:function(t,e,a){},"7a46":function(t,e,a){"use strict";var n=a("6877"),i=a.n(n);i.a},9671:function(t,e,a){"use strict";a.d(e,"j",(function(){return i})),a.d(e,"f",(function(){return o})),a.d(e,"o",(function(){return r})),a.d(e,"i",(function(){return s})),a.d(e,"q",(function(){return l})),a.d(e,"g",(function(){return u})),a.d(e,"e",(function(){return c})),a.d(e,"d",(function(){return d})),a.d(e,"h",(function(){return m})),a.d(e,"l",(function(){return p})),a.d(e,"p",(function(){return h})),a.d(e,"a",(function(){return f})),a.d(e,"k",(function(){return v})),a.d(e,"n",(function(){return g})),a.d(e,"r",(function(){return b})),a.d(e,"c",(function(){return _})),a.d(e,"t",(function(){return y})),a.d(e,"s",(function(){return k})),a.d(e,"m",(function(){return w})),a.d(e,"b",(function(){return O}));var n=a("b775");function i(t){return Object(n["a"])({url:"/merchantTuanUser",method:"get",params:t})}function o(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantLeaderGoods/"+e,method:"get",params:t})}function r(t){var e=t.id;return delete t.id,Object(n["a"])({url:"merchantLeaderGoods/"+e,method:"put",data:t})}function s(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantTuanUser/"+e,method:"get",params:t})}function l(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantTuanUsers/"+e,method:"put",data:t})}function u(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantLeagueMember/"+e,method:"get",params:t})}function c(t){return Object(n["a"])({url:"/merchantTuanUser",method:"get",params:t})}function d(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantTuanUser/"+e,method:"put",data:t})}function m(t){return Object(n["a"])({url:"/merchantLeaderLevel",method:"get",params:t})}function p(t){return Object(n["a"])({url:"/merchantLeaderLevel",method:"post",data:t})}function h(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantLeaderLevel/"+e,method:"put",data:t})}function f(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantLeaderLevel/"+e,method:"delete",data:t})}function v(t){return Object(n["a"])({url:"/merchantWarehouse",method:"get",params:t})}function g(t){return Object(n["a"])({url:"/merchantWarehouse",method:"post",data:t})}function b(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantWarehouse/"+e,method:"put",data:t})}function _(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantWarehouse/"+e,method:"delete",data:t})}function y(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantWarehouseHouse/"+e,method:"get",params:t})}function k(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantWarehouseLeader/"+e,method:"get",params:t})}function w(t){return Object(n["a"])({url:"/merchantShopBalance ",method:"post",data:t})}function O(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantTuanUser/"+e,method:"delete",data:t})}},b66f:function(t,e,a){"use strict";(function(t){a("ac6a"),a("ac4d"),a("8a81"),a("5df3"),a("1c4c"),a("7f7f"),a("6b54"),a("c5f6");var n=a("4fab"),i=a("33d3");function o(t,e){var a;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=r(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return s=t.done,t},e:function(t){l=!0,o=t},f:function(){try{s||null==a.return||a.return()}finally{if(l)throw o}}}}function r(t,e){if(t){if("string"===typeof t)return s(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}e["a"]={name:"bm-map",props:{ak:{type:String},center:{type:[Object,String]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},highResolution:{type:Boolean,default:!0},mapClick:{type:Boolean,default:!0},mapType:{type:String},dragging:{type:Boolean,default:!0},scrollWheelZoom:{type:Boolean,default:!1},doubleClickZoom:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},inertialDragging:{type:Boolean,default:!0},continuousZoom:{type:Boolean,default:!0},pinchToZoom:{type:Boolean,default:!0},autoResize:{type:Boolean,default:!0},theme:{type:Array},mapStyle:{type:Object}},watch:{center:function(t,e){var a=this.map,n=this.zoom;"String"===Object(i["a"])(t)&&t!==e&&a.centerAndZoom(t,n)},"center.lng":function(t,e){var a=this.BMap,n=this.map,i=this.zoom,o=this.center;t!==e&&t>=-180&&t<=180&&n.centerAndZoom(new a.Point(t,o.lat),i)},"center.lat":function(t,e){var a=this.BMap,n=this.map,i=this.zoom,o=this.center;t!==e&&t>=-74&&t<=74&&n.centerAndZoom(new a.Point(o.lng,t),i)},zoom:function(t,e){var a=this.map;t!==e&&t>=3&&t<=19&&a.setZoom(t)},minZoom:function(t){var e=this.map;e.setMinZoom(t)},maxZoom:function(t){var e=this.map;e.setMaxZoom(t)},highResolution:function(){this.reset()},mapClick:function(){this.reset()},mapType:function(e){var a=this.map;a.setMapType(t[e])},dragging:function(t){var e=this.map;t?e.enableDragging():e.disableDragging()},scrollWheelZoom:function(t){var e=this.map;t?e.enableScrollWheelZoom():e.disableScrollWheelZoom()},doubleClickZoom:function(t){var e=this.map;t?e.enableDoubleClickZoom():e.disableDoubleClickZoom()},keyboard:function(t){var e=this.map;t?e.enableKeyboard():e.disableKeyboard()},inertialDragging:function(t){var e=this.map;t?e.enableInertialDragging():e.disableInertialDragging()},continuousZoom:function(t){var e=this.map;t?e.enableContinuousZoom():e.disableContinuousZoom()},pinchToZoom:function(t){var e=this.map;t?e.enablePinchToZoom():e.disablePinchToZoom()},autoResize:function(t){var e=this.map;t?e.enableAutoResize():e.disableAutoResize()},theme:function(t){var e=this.map;e.setMapStyle({styleJson:t})},"mapStyle.features":{handler:function(t,e){var a=this.map,n=this.mapStyle,i=n.style,o=n.styleJson;a.setMapStyle({styleJson:o,features:t,style:i})},deep:!0},"mapStyle.style":function(t,e){var a=this.map,n=this.mapStyle,i=n.features,o=n.styleJson;a.setMapStyle({styleJson:o,features:i,style:t})},"mapStyle.styleJson":{handler:function(t,e){var a=this.map,n=this.mapStyle,i=n.features,o=n.style;a.setMapStyle({styleJson:t,features:i,style:o})},deep:!0},mapStyle:function(t){var e=this.map,a=this.theme;!a&&e.setMapStyle(t)}},methods:{setMapOptions:function(){var e=this.map,a=this.minZoom,n=this.maxZoom,i=this.mapType,o=this.dragging,r=this.scrollWheelZoom,s=this.doubleClickZoom,l=this.keyboard,u=this.inertialDragging,c=this.continuousZoom,d=this.pinchToZoom,m=this.autoResize;a&&e.setMinZoom(a),n&&e.setMaxZoom(n),i&&e.setMapType(t[i]),o?e.enableDragging():e.disableDragging(),r?e.enableScrollWheelZoom():e.disableScrollWheelZoom(),s?e.enableDoubleClickZoom():e.disableDoubleClickZoom(),l?e.enableKeyboard():e.disableKeyboard(),u?e.enableInertialDragging():e.disableInertialDragging(),c?e.enableContinuousZoom():e.disableContinuousZoom(),d?e.enablePinchToZoom():e.disablePinchToZoom(),m?e.enableAutoResize():e.disableAutoResize()},init:function(t){if(!this.map){var e,a=this.$refs.view,i=o(this.$slots.default||[]);try{for(i.s();!(e=i.n()).done;){var r=e.value;r.componentOptions&&"bm-view"===r.componentOptions.tag&&(this.hasBmView=!0,a=r.elm)}}catch(p){i.e(p)}finally{i.f()}var s=new t.Map(a,{enableHighResolution:this.highResolution,enableMapClick:this.mapClick});this.map=s;var l=this.setMapOptions,u=this.zoom,c=this.getCenterPoint,d=this.theme,m=this.mapStyle;d?s.setMapStyle({styleJson:d}):s.setMapStyle(m),l(),n["a"].call(this,s),s.reset(),s.centerAndZoom(c(),u),this.$emit("ready",{BMap:t,map:s})}},getCenterPoint:function(){var t=this.center,e=this.BMap;switch(Object(i["a"])(t)){case"String":return t;case"Object":return new e.Point(t.lng,t.lat);default:return new e.Point}},initMap:function(t){this.BMap=t,this.init(t)},getMapScript:function(){if(t.BMap)return t.BMap._preloader?t.BMap._preloader:Promise.resolve(t.BMap);var e=this.ak||this._BMap().ak;return t.BMap={},t.BMap._preloader=new Promise((function(a,n){t._initBaiduMap=function(){a(t.BMap),t.document.body.removeChild(i),t.BMap._preloader=null,t._initBaiduMap=null};var i=document.createElement("script");t.document.body.appendChild(i),i.src="https://api.map.baidu.com/api?v=2.0&ak=".concat(e,"&callback=_initBaiduMap")})),t.BMap._preloader},reset:function(){var t=this.getMapScript,e=this.initMap;t().then(e)}},mounted:function(){this.reset()},data:function(){return{hasBmView:!1}}}}).call(this,a("c8ba"))},c40e:function(t,e,a){"use strict";a.d(e,"f",(function(){return i})),a.d(e,"p",(function(){return o})),a.d(e,"v",(function(){return r})),a.d(e,"x",(function(){return s})),a.d(e,"b",(function(){return l})),a.d(e,"h",(function(){return u})),a.d(e,"g",(function(){return c})),a.d(e,"q",(function(){return d})),a.d(e,"w",(function(){return m})),a.d(e,"c",(function(){return p})),a.d(e,"j",(function(){return h})),a.d(e,"k",(function(){return f})),a.d(e,"e",(function(){return v})),a.d(e,"l",(function(){return g})),a.d(e,"u",(function(){return b})),a.d(e,"t",(function(){return _})),a.d(e,"a",(function(){return y})),a.d(e,"z",(function(){return k})),a.d(e,"m",(function(){return w})),a.d(e,"i",(function(){return O})),a.d(e,"r",(function(){return D})),a.d(e,"y",(function(){return S})),a.d(e,"d",(function(){return x})),a.d(e,"n",(function(){return j})),a.d(e,"C",(function(){return T})),a.d(e,"s",(function(){return L})),a.d(e,"o",(function(){return $})),a.d(e,"A",(function(){return P})),a.d(e,"B",(function(){return C}));var n=a("b775");function i(t){return Object(n["a"])({url:"/merchantCategory",method:"get",params:t})}function o(t){return Object(n["a"])({url:"/merchantCategory",method:"POST",data:t})}function r(t){return Object(n["a"])({url:"/merchantCategory/"+t.id,method:"PUT",data:t})}function s(t){return Object(n["a"])({url:"/merchantCategoryStatus/"+t.id,method:"PUT",data:t})}function l(t){return Object(n["a"])({url:"/merchantCategory/"+t.id,method:"DELETE",data:t})}function u(t){return Object(n["a"])({url:"/merchantCategoryParent",method:"get",params:t})}function c(t){return Object(n["a"])({url:"/merchantGrouping",method:"get",params:t})}function d(t){return Object(n["a"])({url:"/merchantGrouping",method:"POST",data:t})}function m(t){return Object(n["a"])({url:"/merchantGrouping/"+t.id,method:"PUT",data:t})}function p(t){return Object(n["a"])({url:"/merchantGrouping/"+t.id,method:"DELETE",data:t})}function h(t){return Object(n["a"])({url:"/merchantGoods",method:"get",params:t})}function f(t){return Object(n["a"])({url:"/merchantGoodsName",method:"get",params:t})}function v(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantGoods/"+e,method:"get",params:t})}function g(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantGoodsQCode/"+e,method:"get",params:t})}function b(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantIsUpdate/"+e,method:"get",params:t})}function _(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantGoods/"+e,method:"put",data:t})}function y(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantGoods/"+e,method:"delete",data:t})}function k(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantGood/"+e,method:"put",data:t})}function w(t){return Object(n["a"])({url:"/merchantCategoryTypeSub",method:"get",params:t})}function O(t){return Object(n["a"])({url:"/merchantGoodsLabel",method:"get",params:t})}function D(t){return Object(n["a"])({url:"/merchantGoodsLabel",method:"POST",data:t})}function S(t){return Object(n["a"])({url:"/merchantGoodsLabel/"+t.id,method:"PUT",data:t})}function x(t){return Object(n["a"])({url:"/merchantGoodsLabel/"+t.id,method:"DELETE",data:t})}function j(t){return Object(n["a"])({url:"/merchantGoodsRecycle",method:"get",params:t})}function T(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantGoodReduction/"+e,method:"PUT",data:t})}function L(t){return Object(n["a"])({url:"/merchantRedisMessage",method:"post",data:t})}function $(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantStock/"+e,method:"get",params:t})}function P(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantStock/"+e,method:"put",data:t})}function C(t){var e=t.id;return delete t.id,Object(n["a"])({url:"/merchantStockPrice/"+e,method:"put",data:t})}},ed08:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));a("28a5"),a("a481"),a("6b54");var n=a("53ca");function i(t,e){if(0===arguments.length)return null;var a,i=e||"{y}-{m}-{d} {h}:{i}:{s}";"object"===Object(n["a"])(t)?a=t:("string"===typeof t&&/^[0-9]+$/.test(t)&&(t=parseInt(t)),"number"===typeof t&&10===t.toString().length&&(t*=1e3),a=new Date(t));var o={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()},r=i.replace(/{(y|m|d|h|i|s|a)+}/g,(function(t,e){var a=o[e];return"a"===e?["日","一","二","三","四","五","六"][a]:(t.length>0&&a<10&&(a="0"+a),a||0)}));return r}}}]);